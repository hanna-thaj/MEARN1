"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _wrapNativeSuper(e){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);t=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(t,n.prototype),t}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function r(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{r({},"")}catch(e){r=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var o,r,a,s,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),i=new R(i||[]);return c(t,"_invoke",{value:(o=e,r=n,a=i,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return y()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var i=n.method,o=t.iterator[i];if(void 0===o)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),u;i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,u;o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a);if(n){if(n===u)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=d(o,r,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var u={};function h(){}function m(){}function v(){}var t={},f=(r(t,i,function(){return this}),Object.getPrototypeOf),f=f&&f(f(w([]))),p=(f&&f!==e&&l.call(f,i)&&(t=f),v.prototype=h.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){r(e,t,function(e){return this._invoke(t,e)})})}function T(a,s){var t;c(this,"_invoke",{value:function(n,i){function e(){return new s(function(e,t){!function t(e,n,i,o){var r,e=d(a[e],a,n);if("throw"!==e.type)return(n=(r=e.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):s.resolve(n).then(function(e){r.value=e,i(r)},function(e){return t("throw",e,i,o)});o(e.arg)}(n,i,e,t)})}return t=t?t.then(e,e):e()}})}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function g(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(t){if(t){var n,e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:y}}function y(){return{value:void 0,done:!0}}return c(p,"constructor",{value:m.prototype=v,configurable:!0}),c(v,"constructor",{value:m,configurable:!0}),m.displayName=r(v,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,r(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e},a.awrap=function(e){return{__await:e}},_(T.prototype),r(T.prototype,n,function(){return this}),a.AsyncIterator=T,a.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var r=new T(s(e,t,n,i),o);return a.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},_(p),r(p,o,"Generator"),r(p,i,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),i=[];for(t in n)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=w,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function e(e,t){return r.type="throw",r.arg=n,i.next=e,t&&(i.method="next",i.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],r=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),s=l.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&l.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var r=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),g(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(i=n.arg,g(o)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},a}function asyncGeneratorStep(e,t,n,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,o)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var i=s.apply(e,a);function o(e){asyncGeneratorStep(i,t,n,o,r,"next",e)}function r(e){asyncGeneratorStep(i,t,n,o,r,"throw",e)}o(void 0)})}}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=_superPropBase(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: flex;\n      align-items: var(--align-icon-y, center);\n      width: 100%;\n      max-height: 100%;\n      line-height: 0;\n\n      --align-icon-x: center;\n      --align-icon-y: center;\n    }\n    :host([hidden]) { display: none; }\n\n    #icon {\n      object-fit: contain;\n      object-position: var(--align-icon-x, center);\n      width: inherit;\n      max-height: inherit;\n      height: inherit;\n    }\n  ",'</style>\n    <img id="icon" loading="lazy" />\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).icons={"amazon-prime-video-us":"/assets/pizza-pie/images/affiliates/amazon_prime_video.aea370299cd.svg","amazon-prime-video-us-sidebyside":"/assets/pizza-pie/images/affiliates/amazon-prime-video-sidebyside.a41b51727e0.svg","amc-plus-us":"/assets/pizza-pie/images/affiliates/amc_plus.eebc3f3183d.svg","apple-tv-plus-us":"/assets/pizza-pie/images/affiliates/apple_tv_plus.214c9b21f03.svg","apple-tv-us":"/assets/pizza-pie/images/affiliates/apple_tv.da7a28db8f5.svg","disney-plus-us":"/assets/pizza-pie/images/affiliates/disney_plus.38158a14466.svg",fandango:"/assets/pizza-pie/images/affiliates/fandango.7e22d1f94b5.svg","golden-tomatoes":"/assets/pizza-pie/images/affiliates/RT_GTA_2019_Logo.e04d785efa8.svg","hbo-max":"/assets/pizza-pie/images/affiliates/hbo_max.2426e881c8f.svg",hulu:"/assets/pizza-pie/images/affiliates/hulu.3bc560ceca6.svg","in-theaters":"/assets/pizza-pie/images/affiliates/in_theaters.43aba51a9d1.svg","max-us":"/assets/pizza-pie/images/affiliates/max_us.1c97bc25b8e.svg",netflix:"/assets/pizza-pie/images/affiliates/netflix.62f265e4a21.svg",showtime:"/assets/pizza-pie/images/affiliates/showtime.eafbcc724e8.svg","paramount-plus-us":"/assets/pizza-pie/images/affiliates/paramount_plus.807659e81cb.svg",peacock:"/assets/pizza-pie/images/affiliates/peacock.2427388e74b.svg",peacockDark:"/assets/pizza-pie/images/affiliates/peacock_dark.ba5b6c89bfa.svg",rt:"/assets/pizza-pie/images/affiliates/rt.b142ea30f59.svg","rt-editorial":"/assets/pizza-pie/images/affiliates/rt.b142ea30f59.svg",vudu:"/assets/pizza-pie/images/affiliates/vudu.f79c6cedefa.svg"},e.dom={elIcon:e.select("#icon")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted(),this.hasAttribute("role")||this.setAttribute("role","image"),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeAlignicon",value:function(){var e=_slicedToArray((0<arguments.length&&void 0!==arguments[0]?arguments[0]:"center center").split(" "),2),t=e[0],e={left:"flex-start",center:"center",right:"flex-end"}[e[1]]||"center";this.style.setProperty("--align-icon-x",t),this.style.setProperty("--align-icon-y",e)}},{key:"_attributeIcon",value:function(e){this.dom.elIcon.setAttribute("src",this.icons[e]||""),this.dom.elIcon.setAttribute("alt",e||"")}}],[{key:"observedAttributes",get:function(){return["alignicon","hidden","icon"]}}]),n}());window.customElements.get("affiliate-icon")||window.customElements.define("affiliate-icon",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      font-family: var(--fontFranklinGothic);\n      font-size: 0.875rem;\n    }\n    :host([hidden]) { display: none; }\n\n    .chart { display: flex; align-items: center; min-width: 200px; }\n    .chart > * { display: inline-block; }\n    .chart p {\n      min-width: 45px;\n      margin: 0;\n      color: var(--grayDark1, #505257);\n    }\n\n    .bar-outline,\n    .bar-fill {\n      height: 5px;\n      border-radius: 3px;\n      box-shadow: inset 0 1px 3px 0 rgba(0, 0, 0, 0.14);\n    }\n    .bar-outline {\n      max-width: 90%;\n      min-width: 50%; \n      position: relative;\n      background-color: var(--grayLight2, #E9E9EA); margin: 0 10px;\n    }\n    .bar-fill {\n      max-width: 100%;\n      min-width: 0%;\n      position: absolute;\n      background-color: var(--grayDark1, #505257);\n    }\n  ",'</style>\n\n    <div class="chart">\n      <p class="label">Rotten</p>\n      <div class="bar-outline">\n        <div class="bar-fill"></div>\n      </div>\n      <p class="count" data-qa="count">N/A</p>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked"]),e.dom={elBarFill:e.select(".bar-fill"),elCount:e.select(".count"),elLabel:e.select(".label")},e}return _createClass(n,[{key:"template",value:function(){return i}},{key:"_attributeLabel",value:function(e){this.dom.elLabel.innerHTML=e||"N/A"}},{key:"_attributeCount",value:function(){this._renderBarChart()}},{key:"_attributeTotalcount",value:function(){this._renderBarChart()}},{key:"_renderBarChart",value:function(){var e=isNaN(parseInt(this.getAttribute("totalcount")))?0:parseInt(this.getAttribute("totalcount")),t=isNaN(parseInt(this.getAttribute("count")))?0:parseInt(this.getAttribute("count")),e=t/e*100;this.dom.elBarFill.style.width=t?"".concat(100<=e?100:e,"%"):"0%",this.dom.elCount.innerHTML="".concat(t)||"N/A"}}],[{key:"observedAttributes",get:function(){return["hidden","label","count","totalcount"]}}]),n}());window.customElements.get("bar-chart")||window.customElements.define("bar-chart",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: flex;\n      overflow-x: auto;\n    }\n    :host([hidden]), #view-all[hidden] { display: none; }\n  ",'</style>\n    <slot></slot>\n    <slot name="view-all" hidden></slot>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.initBool(["viewallactive"]),e.dom={elOptionsSlot:e.select("slot"),elViewAllSlot:e.select('slot[name="view-all"]')},e}return _createClass(n,[{key:"connectedCallback",value:function(){var t=this,e=[].concat(_toConsumableArray(this.dom.elOptionsSlot.assignedElements().map(function(e){return{el:e,eventType:"clicked",fn:t._onItemClicked}})),[{el:this.elViewAll,eventType:"clicked",fn:this._onViewAllClicked},{el:this.dom.elViewAllSlot,eventType:"slotchange",fn:this._onItemsSlotChange}]);this.attachEvents(e),this.ready()}},{key:"elViewAll",get:function(){return this.slotted["view-all"][0]}},{key:"value",get:function(){return this._items.filter(function(e){return e.active}).map(function(e){return e.value})},set:function(t){this._items.forEach(function(e){return e.active=t.includes(e.value)}),this._adjustItems()}},{key:"template",value:function(){return i}},{key:"_adjustItems",value:function(){var e=this.maxvisibleitems&&Number(this.maxvisibleitems);if("number"==typeof e){var t=this._items.slice(0,e),e=this._items.slice(e);if(t.forEach(function(e){return e.hidden=!1}),0===e.length)return this.dom.elViewAllSlot.hidden=!0;this.dom.elViewAllSlot.hidden=!1,e.forEach(function(e){return e.hidden=!0});t=e.filter(function(e){return e.active}),e=Boolean(t.length)||this.viewallactive,t=0<t.length?"+".concat(t.length):"View All";this.elViewAll.active=e,this.elViewAll.innerText=t}}},{key:"_attributeMaxvisibleitems",value:function(e){this._adjustItems()}},{key:"_items",get:function(){try{return this.select('slot:not([name="view-all"])').assignedElements()}catch(e){return[]}}},{key:"_onItemClicked",value:function(e){e=e.target,e.active=!e.active,e=this.value,e=new CustomEvent("change",{detail:{values:e}});this.dispatchEvent(e)}},{key:"_onItemsSlotChange",value:function(){this._adjustItems()}},{key:"_onViewAllClicked",value:function(){var e=this._items.map(function(e){return{value:e.value,selected:e.active}}),e=new CustomEvent("viewall",{detail:{options:e}});this.dispatchEvent(e)}}],[{key:"observedAttributes",get:function(){return["maxvisibleitems","viewallactive"]}}]),n}());window.customElements.get("bubbles-overflow-container")||window.customElements.define("bubbles-overflow-container",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host {\n      --linkColor: var(--blue, #3976DC);\n\n      display: block;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    a { color: var(--linkColor); text-decoration: none; }\n    div {\n      display: flex;\n      justify-content: center;\n    }\n  ","</style>\n    <div></div>\n  "),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={wrap:e.select("div")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.attachEvents([{el:document,eventType:"userLogin",fn:this._onDocumentUserLogin},{el:document,eventType:"userLogout",fn:this._onDocumentUserLogout}])}},{key:"template",value:function(){return i}},{key:"_onDocumentUserLogin",value:function(e){null!=(e=e.detail)&&null!=(e=e.data)&&e.criticId&&(e="/critics/self-submission/".concat(this.mediatype,"/").concat(this.emsid,"?").concat(location.search),this.dom.wrap.innerHTML='<a href="'.concat(e,'" data-qa="add-article-link">Add Reviews</a>'),this.hidden=!1)}},{key:"_onDocumentUserLogout",value:function(e){this.dom.wrap.innerHTML="",this.hidden=!0}}],[{key:"observedAttributes",get:function(){return["emsid","hidden","mediatype"]}}]),n}());window.customElements.get("critic-add-article")||window.customElements.define("critic-add-article",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=window.Manager,e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).traceName="CriticReviewManagerDeprecated",e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _get(_getPrototypeOf(n.prototype),"connectedCallback",this).call(this),e.next=3,customElements.whenDefined("review-speech-balloon-deprecated");case 3:this._onWidthRecalculated(),this.dom={elsReviewSpeechBalloonDeprecated:document.querySelectorAll("review-speech-balloon-deprecated")},this.attachEvents([{el:window,eventType:"resize",fn:this._onWidthRecalculated}]);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"stateUpdated",value:function(){this.state.isMobile?this._hideExcessCriticReviews():this._unhideCriticReview()}},{key:"_unhideCriticReview",value:function(){Array.from(this.dom.elsReviewSpeechBalloonDeprecated).forEach(function(e){e.removeAttribute("hidden")})}},{key:"_hideExcessCriticReviews",value:function(){var e=Array.from(this.dom.criticReviewSpeechBalloonDeprecated||[]),t=e.length,n=0,i=(e.forEach(function(e){"true"===e.getAttribute("istopcritic")&&n++}),Math.min(n,4)),o=Math.min(t,6)-i;e.forEach(function(e){"true"===e.getAttribute("istopcritic")?(i<=0&&(e.hidden=!0),i--):(o<=0&&(e.hidden=!0),o--)})}},{key:"_onWidthRecalculated",value:function(){var e=Boolean(window.innerWidth&&window.innerWidth<768);this.setState({isMobile:e})}}]),n}();window.customElements.get("critic-review-manager-deprecated")||window.customElements.define("critic-review-manager-deprecated",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var t=window.Component,o=document.createElement("template"),e=(o.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-size: 1rem;\n    }\n\n    rt-tabs-deprecated {\n      border: solid 1px var(--grayLight2, #E9E9EA);\n    }\n\n    rt-tabs-deprecated  section[slot="tabBar"] {\n      display: flex;\n    }\n\n    rt-tabs-panel-deprecated > article {\n      margin-bottom: 10px;\n    }\n\n    discovery-sidebar-list-deprecated:not([title]) {\n      margin-top: 8px;\n    }\n\n    :host([hidden]) { display: none; }\n  ','</style>\n    <slot></slot>\n    <rt-tabs-deprecated>\n      <section slot="tabBar"></section>\n    </rt-tabs-deprecated>\n  '),function(){_inherits(i,t);var e,n=_createSuper(i);function i(){_classCallCheck(this,i);var e,t=_assertThisInitialized(e=n.call(this));return e.dom={elTabBar:e.select('rt-tabs-deprecated section[slot="tabBar"]'),get wcTabBarOptions(){return Array.from(t.selectAll("discovery-sidebar-tab-deprecated"))||[]},wcTabs:e.select("rt-tabs-deprecated")},e.attachEvent(e.dom.elTabBar,"click",e._handleTabClick.bind(_assertThisInitialized(e))),e}return _createClass(i,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined(["discovery-sidebar-tab-deprecated","rt-tabs-panel-deprecated"]);case 2:this.initBool(["hidden"]),this.initSlotted(),this._setupTabs(),this.initial&&this._attributeInitial(this.initial),this.ready();case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_addTabPanels",value:function(e){var n=document.createDocumentFragment();e.forEach(function(e){var t=document.createElement("rt-tabs-panel-deprecated");t.slot="tabPanel",t.value=e.getAttribute("value"),t.appendChild(e),n.appendChild(t)}),this.dom.wcTabs.appendChild(n)}},{key:"_addTabs",value:function(e){var i=document.createDocumentFragment();e.forEach(function(e){var t=document.createElement("discovery-sidebar-tab-deprecated"),n=e.getAttribute("value");t.value=n,t.innerHTML=e.getAttribute("title"),t.setAttribute("data-qa","".concat(n,"-tab")),e.removeAttribute("title"),e.removeAttribute("value"),i.appendChild(t)}),this.select('[slot="tabBar"]').appendChild(i)}},{key:"_attributeInitial",value:function(e){this.dom.wcTabs.selected=e,this._setActiveTab(e)}},{key:"_handleTabClick",value:function(e){e=e.target.value;e&&(this._setActiveTab(e),document.dispatchEvent(new CustomEvent("curation")))}},{key:"_setActiveTab",value:function(t){this.dom.wcTabBarOptions.forEach(function(e){return e.active=e.value===t})}},{key:"_setupTabs",value:function(){var e=this.select("slot"),t=Array.from(e.assignedElements());this._addTabPanels(t),this._addTabs(t),e.remove()}}],[{key:"observedAttributes",get:function(){return["hidden","initial"]}}]),i}());window.customElements.get("discovery-sidebar-deprecated")||window.customElements.define("discovery-sidebar-deprecated",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=document.createElement("template"),e=(o.innerHTML="\n    <style>".concat("\n    :host([hidden]), *[hidden] { display: none; }\n\n    a {\n      font-size: 1rem;\n      text-decoration: none;\n      display: flex;\n      align-items: center;\n      color: var(--grayDark2);\n    }\n\n    a:hover {\n      color: var(--blueHover);\n    }\n\n    a:hover score-icon-critic-deprecated {\n      --fontColor: var(--blueHover);\n    }\n\n    p {\n      margin: 0;\n      padding: 0 10px;\n      font-family: var(--fontFranklinGothic);\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 24px;\n      flex: 1;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    score-icon-critic-deprecated, #no-score {\n      width: 60px;\n    }\n  ",'</style>\n    <a data-qa="link">\n      <score-icon-critic-deprecated size="tiny" alignment="left"></score-icon-critic-deprecated>\n      <p id="title"></p>\n      <span id="info" hidden></span>\n    </a>\n  '),function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elInfo:e.select("#info"),elLink:e.select("a"),elTitle:e.select("#title"),wcScoreIconCritic:e.select("score-icon-critic-deprecated")},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined();case 2:this.initBool(["hidden"]),this.initSlotted(),this.ready();case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_attributeMediaurl",value:function(e){this.dom.elLink.href=e}},{key:"_attributeTitle",value:function(e){this.dom.elTitle.innerText=e}},{key:"_attributeTomatometerscore",value:function(e){this.dom.wcScoreIconCritic.setAttribute("percentage",e)}},{key:"_attributeTomatometerstatus",value:function(e){this.dom.wcScoreIconCritic.setAttribute("state",e)}},{key:"_attributeType",value:function(e){e&&"simple"!==e&&(this.dom.elInfo.hidden=!1,e=this._getInfoByType(e)||"—",this.dom.elInfo.innerText=e,this.dom.elInfo.hidden=!1)}},{key:"_getInfoByType",value:function(e){return{date:this.releasedate,boxOffice:this.boxoffice}[e]}}],[{key:"observedAttributes",get:function(){return["boxoffice","hidden","mediaurl","releasedate","title","tomatometerstatus","tomatometerscore","type"]}}]),n}());window.customElements.get("discovery-sidebar-item-deprecated")||window.customElements.define("discovery-sidebar-item-deprecated",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: flex;\n      flex-direction: column;\n      margin: 0 10px;\n    }\n\n    :host([hidden]), .hide { display: none; }\n\n    #title {\n      font-family: var(--fontNeusa);\n      font-weight: 500;\n      font-size: 1rem;\n      color: var(--black);\n      text-transform: uppercase;\n      margin: 8px 0;\n    }\n\n    #details-link {\n      font-size: 0.875rem;\n      color: #4472CA;\n      margin-top: 5px;\n      text-decoration: none;\n    }\n\n    #details-link:hover {\n      color: var(--blueHover);\n    }\n  ",'</style>\n    <h2 id="title" class="hide"></h2>\n    <slot></slot>\n    <a id="details-link" class="hide" data-qa="view-all-link">View All</a>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elDetailsLink:e.select("#details-link"),elTitle:e.select("#title")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeTitle",value:function(e){this.dom.elTitle.classList[e?"remove":"add"]("hide"),this.dom.elTitle.innerText=e}},{key:"_attributeDetailsurl",value:function(e){this.dom.elDetailsLink.classList[e?"remove":"add"]("hide"),this.dom.elDetailsLink.href=e}}],[{key:"observedAttributes",get:function(){return["hidden","title","detailsurl"]}}]),n}());window.customElements.get("discovery-sidebar-list-deprecated")||window.customElements.define("discovery-sidebar-list-deprecated",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var n=window.Component,i=document.createElement("template"),e=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: flex;\n      flex: 1;\n    }\n\n    :host([active]) button {\n      background: var(--white, #FFF);\n      border-bottom: solid 1px var(--white, #FFF);\n      color: var(--black, #000);\n      cursor: default;\n    }\n\n    :host(:not([active]):hover) button {\n      color: var(--black, #000);\n      background: var(--grayLight2, #E9E9EA);\n    }\n\n    button:focus:not(:focus-visible) {\n      outline: 0 !important;\n    }\n\n    :host(:first-of-type) button {\n      border-left: none;\n    }\n\n    button {\n      flex: 1;\n      border: none;\n      color: var(--gray, #757A84);\n      cursor: pointer;\n      background: var(--grayLight1, #F3F3F3);\n      padding: 10px 5px 5px 5px;\n      border-bottom: solid 1px var(--grayLight2, #E9E9EA);\n      border-left: solid 1px var(--grayLight2, #E9E9EA);\n      font-size: 0.875rem;\n      font-family: var(--fontNeusa);\n      font-weight: 500;\n      transition: color 0.4s ease-in-out;\n      text-transform: uppercase;\n      line-height: 0.9375em;\n    }\n\n    :host([hidden]) { display: none; }\n  ","</style>\n    <button>\n      <slot></slot>\n    </button>\n  "),function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden","active"]),this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["active","hidden","value"]}}]),t}());window.customElements.get("discovery-sidebar-tab-deprecated")||window.customElements.define("discovery-sidebar-tab-deprecated",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=document.createElement("template"),e=(o.innerHTML="\n    <style>".concat('\n    :host {\n      --drawerHeight: 300px;\n      --webkitLineClamp: 6;\n\n      display: block;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .drawer {\n      transition: height 300ms ease-in-out;\n      overflow: hidden;\n    }\n\n    slot[name="content"] {\n      display: block;\n      margin-bottom: 5px;\n    }\n\n    :host([status="closed"]) .drawer { height: 0; }\n    :host([status="closed"][showclosedheight]) .drawer,\n    :host([status="closed"][showclosedheight][maxlines]) .drawer { height: var(--drawerHeight); }\n    :host([status="closed"][maxlines]) .drawer { height: fit-content; }\n    :host([status="closed"][maxlines]) slot[name="content"]::slotted(p) {\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: var(--webkitLineClamp);\n      overflow: hidden;\n    }\n\n    :host([status="open"]) .drawer { height: var(--drawerHeight); }\n    :host([status="open"][showclosedheight]) .drawer,\n    :host([status="open"][showclosedheight][maxlines]) .drawer,\n    :host([status="open"][maxlines]) .drawer { height: fit-content; }\n  ','</style>\n\n    <div class="drawer">\n      <slot name="content"></slot>\n      <slot class="hide" name="button"></slot>\n      <p class="sr-only hide" aria-live="polite"></p>\n    </div>\n    <slot name="ctaClose"></slot>\n    <slot name="ctaOpen"></slot>\n  '),function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","showclosedheight"]),e.initSlotted(),e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.attachEvents([{el:document,eventType:"DOMContentLoaded",fn:this._init.bind(this)},{el:document,eventType:"paginationContentLoaded",fn:this._init.bind(this)}]);case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_attributeMaxlines",value:function(){this.style.setProperty("--webkitLineClamp",this.maxlines)}},{key:"_attributeStatus",value:function(e){var t;["closed","open","toggle"].includes(e)&&("toggle"===this.status?(this.status="open"===this.prevStatus?"closed":"open",this.dispatchEvent(new CustomEvent(this.status))):(this.dispatchEvent(new CustomEvent(this.status)),this.select('slot[name="ctaClose"]').classList.remove("hide"),this.select('slot[name="ctaOpen"]').classList.remove("hide"),t="open"===this.status?"ctaOpen":"ctaClose",this.select('slot[name="'.concat(t,'"]')).classList.add("hide"),this.heightCalcDone&&this._contentDisplay(),this.prevStatus=e))}},{key:"_contentDisplay",value:function(){var t="closed"===this.status?"add":"remove";this.maxlines||this.showclosedheight||this.slotted.content.forEach(function(e){return e.classList[t]("hide")})}},{key:"_init",value:function(){var e=this,t=this.slotted.content.reduce(function(e,t){var n=window.getComputedStyle(t),i=n.marginTop,n=n.marginBottom;return e+t.offsetHeight+parseInt(i)+parseInt(n)},0);this.style.setProperty("--drawerHeight","".concat(t,"px")),this.style.setProperty("--webkitLineClamp",this.maxlines),this._contentDisplay(),this.heightCalcDone=!0,this.maxlines&&this._initContentClamp(),this.attachEvents([{el:this.select('slot[name="button"]'),eventType:"click",fn:this._onBtnClick},{el:this.select('slot[name="ctaClose"]'),eventType:"click",fn:function(){return e.status="closed"}},{el:this.select('slot[name="ctaOpen"]'),eventType:"click",fn:function(){return e.status="open"}},{el:window,eventType:"resize",fn:this._onWindowResize}]),this.ready()}},{key:"_initContentClamp",value:function(){var e,t;this.slotted.button[0]&&(e=this.select('slot[name="button"]'),t=parseInt(this.style.getPropertyValue("--drawerHeight"))-this.slotted.button[0].offsetHeight,1<this.slotted.content[0].scrollHeight-t?(this.initialMaxLines=this.maxlines,this.style.setProperty("--webkitLineClamp",this.maxlines),e.classList.remove("hide")):(this.style.setProperty("--webkitLineClamp",0),e.classList.add("hide")))}},{key:"_onBtnClick",value:function(){var e=this.select(".sr-only");this.isShowMoreClicked=!0,"closed"===this.status?(this.style.setProperty("--webkitLineClamp",0),this.slotted.button[0].innerText="Show Less",this.status="open",e.innerText="Content collapsed."):(this.style.setProperty("--webkitLineClamp",this.initialMaxLines),this.slotted.button[0].innerText="Show More",this.status="closed",e.innerText="Content expanded.")}},{key:"_onWindowResize",value:function(){this.maxlines&&this._initContentClamp()}}],[{key:"observedAttributes",get:function(){return["hidden","maxlines","showclosedheight","status"]}}]),n}());window.customElements.get("drawer-more")||window.customElements.define("drawer-more",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i={SPACE:32,ENTER:13},o=document.createElement("template"),t=(o.innerHTML="\n    <style>".concat("\n    :host {\n      display: inline-block;\n      width: auto;\n    }\n\n    :host([hidden]), .hide { display: none; }\n\n    :host .filter-chip {\n      border-radius: 16px;\n      padding: 7px 16px;\n      height: 18px;\n      border: solid 1px var(--grayLight4, #bcbdbe);\n      background-color: var(--white, #fff);\n      color: var(--grayDark2, #2a2c32);\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n    }\n\n    :host .filter-chip:hover {\n      border: solid 1px var(--grayDark2, #2a2c32);\n    }\n\n    :host .filter-chip.active {\n      background-color: var(--grayLight2, #e9e9ea);\n      border: solid 1px transparent;\n    }\n\n    :host .filter-chip.disabled {\n      background-color: var(--grayLight2, #e9e9ea);\n      color: var(--grayLight4, #bcbdbe);\n      border: solid 1px transparent;\n      cursor: default;\n    }\n\n    :host slot[name=score-icon]::slotted(*) {\n      margin-right: 5px;\n    }\n\n    :host slot[name=label]::slotted(*) {\n      font-size: .875rem;\n      line-height: 1.29;\n      font-weight: 500;\n      width: max-content;\n    }\n\n    :host rt-icon {\n      height: 9px;\n      width: 8px;\n      fill: var(--grayDark2);\n      margin-left: 5px;\n      margin-top: -4px;\n    }\n\n    ::slotted(label.filter-chip) {\n      cursor: pointer;\n    }\n\n    #count {\n      margin-left: 4px;\n      font-size: 0.75rem;\n      font-weight: 500;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: 1.5;\n      letter-spacing: normal;\n      color: var(--white, #ffffff);\n      justify-content: center;\n      background-color: var(--grayDark1, #505257);\n      padding: 0 4px;\n      border-radius: 4px;\n    }\n  ",'</style>\n    <div class="filter-chip">\n      <slot name="score-icon"></slot>\n      <slot name="label"></slot>\n      <span id="count" class="hide">3</span>\n      <rt-icon class="hide" icon="down-open"></rt-icon>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["arrow","active","disabled","hidden","icon"]),e.elFilterChip=e.select(".filter-chip"),e.elIcon=e.select('slot[name="score-icon"]'),e.elCaret=e.select("rt-icon"),e.elCount=e.select("#count"),e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initSlotted(),this.hasAttribute("role")||this.setAttribute("role","button"),this.hasAttribute("tabindex")||this.setAttribute("tabindex",0),this.attachEvents([{el:this,eventType:"click",fn:this._onClick},{el:this,eventType:"keydown",fn:this._onKeydown}]),this.ready()}},{key:"template",value:function(){return o}},{key:"_attributeActive",value:function(){this.active?this.elFilterChip.classList.add("active"):this.elFilterChip.classList.remove("active")}},{key:"_attributeArrow",value:function(){this.arrow?this.elCaret.classList.remove("hide"):this.elCaret.classList.add("hide")}},{key:"_attributeCount",value:function(e){e=Number(e);if(!(e&&0<e))return this.elCount.classList.add("hide");this.elCount.innerText=e,this.elCount.classList.remove("hide")}},{key:"_attributeDisabled",value:function(){this.disabled?this.elFilterChip.classList.add("disabled"):this.elFilterChip.classList.remove("disabled")}},{key:"_attributeIcon",value:function(){this.elIcon.hidden=!this.icon}},{key:"_attributeLabel",value:function(e){var t;null!=(t=this.slotted)&&null!=(t=t.label)&&t[0]&&(this.slotted.label[0].innerHTML=e)}},{key:"_dispatchEvent",value:function(){var e=this.active,t=this.label;this.dispatchEvent(new CustomEvent("clicked",{detail:{active:e,label:t}}))}},{key:"_onClick",value:function(e){this.active=!this.active,this._dispatchEvent()}},{key:"_onKeydown",value:function(e){Object.values(i).includes(e.keyCode)&&this._dispatchEvent()}}],[{key:"observedAttributes",get:function(){return["arrow","active","count","disabled","hidden","icon","label"]}}]),n}());window.customElements.get("filter-chip")||window.customElements.define("filter-chip",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=document.createElement("template"),e=(i.innerHTML="\n    <style>".concat('\n    :host {\n      z-index: 200;\n      position: fixed;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top:0;\n    }\n    ::slotted(rt-icon) {\n      fill: #757A84;\n    }\n    ::slotted(rt-icon:hover) {\n      fill: #2A62C0;\n    }\n    ::slotted(rt-icon[icon="left-chevron"]) {\n      margin-right: 2px;\n    }\n    ::slotted(rt-icon[icon="right-chevron"]) {\n      margin-left: 2px;\n    }\n    .full_screen_carousel_container {\n      position: fixed;\n      width: 100%;\n      height: 100%;\n      background-color: grey;\n      overflow: hidden;\n      display: flex;\n      flex-direction: row;\n      background-color: #ffffff;\n    }\n    .carousel_view_port {\n      position: fixed;\n      z-index: 4;\n      width: 100%;\n      height: 100%;\n    }\n    .arrow_container {\n      visibility: hidden;\n      position: absolute;\n      top: 45%;\n      z-index: 5;\n    }\n    .arrow_container.left {\n      left: 3%;\n    }\n    .arrow_container.right {\n      right: 3%;\n    }\n    .arrow_left, .arrow_right {\n      border-radius: 50%;\n      box-shadow: 1px 3px 8px 0 rgba(42, 44, 50, 0.16);\n      height: 47px;\n      width: 47px;\n      border: none;\n      cursor: pointer;\n      background-color: #ffffff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    .count_container {\n      bottom: 0;\n      height: 40px;\n      width: 100%;\n      position: absolute;\n      text-align: center;\n      color: #2a2c32;\n      font-family: var(--fontFranklinGothic);\n      font-size: 1rem;\n      font-weight: 400;\n      line-height: 1.25;\n    }\n    .carousel_list {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n    .carousel_item_container {\n      min-width: 100%;\n      height: 100%;\n      padding: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .carousel_item {\n      width: 100%;\n      height: auto;\n    }\n\n    img {\n      width: 100%;\n      height: auto;\n      object-fit: contain;\n      pointer-events: none;\n    }\n\n    .exit {\n      position: absolute;\n      top: 15px;\n      right: 15px;\n      width: 24px;\n      height: 24px;\n      z-index: 5;\n      cursor: pointer;\n      background: no-repeat url(\'/assets/pizza-pie/images/icons/rticon-close.835af964464.svg\');\n      border: none;\n    }\n\n    .smooth {\n      transition: transform 0.2s;\n    }\n\n    @media (min-width: 768px) {\n      .carousel_item_container {\n        min-width: 80vw;\n        height: 80vh;\n        padding: 10%;\n      }\n      .carousel_item {\n        width: auto;\n        height: 100%;\n      }\n      img {\n        width: 100%;\n        height: 100%;\n      }\n      .arrow_container {\n        visibility: visible;\n      }\n      .smooth {\n        transition: transform 1s;\n      }\n    }\n  ','</style>\n\n    <div class="full_screen_carousel_container">\n      <button class="exit" data-qa="exit"></button>\n      <div class="carousel_view_port" data-qa="carousel-viewport">\n        <div class="arrow_container left">\n          <button class="arrow_left" data-qa="arrow-left">\n            <slot name="arrow_left" class="arrow_left_slot"></slot>\n          </button>\n        </div>\n        <div class="arrow_container right">\n          <button class="arrow_right" data-qa="arrow-right">\n            <slot name="arrow_right" class="arrow_right_slot"></slot>\n          </button>\n        </div>\n        <div class="count_container" data-qa="count-container">1/28</div>\n      </div>\n      <div class="carousel_list">image here</div>\n    </div>\n  '),function(){_inherits(n,_wrapNativeSuper(HTMLElement));var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).attachShadow({mode:"open"}),e.shadowRoot.appendChild(i.content.cloneNode(!0)),e.elCarouselViewPort=e.shadowRoot.querySelector(".carousel_view_port"),e.elCarouselContainer=e.shadowRoot.querySelector(".full_screen_carousel_container .carousel_list"),e.elExit=e.shadowRoot.querySelector(".exit"),e.elPrev=e.shadowRoot.querySelector(".arrow_left"),e.elNext=e.shadowRoot.querySelector(".arrow_right"),e.elPrevArrow=e.shadowRoot.querySelector("slot.arrow_left_slot"),e.elNextArrow=e.shadowRoot.querySelector("slot.arrow_right_slot"),e.elCountContainer=e.shadowRoot.querySelector(".count_container"),e.pictures=[],e.startX=null,e.fullScreenVisible=!1,e}return _createClass(n,[{key:"connectedCallback",value:function(){var t=this;this.pictures=[];try{this.pictures=JSON.parse(document.querySelector("#pictures-json").innerText)}catch(e){}this.elExit.addEventListener("click",function(){return t.setAttribute("hidden","hidden")},!1),this.elPrev.addEventListener("click",function(){return t.decrementIndex()},!1),this.elNext.addEventListener("click",function(){return t.incrementIndex()},!1),this.elCarouselViewPort.addEventListener("touchstart",function(e){return t.swipeStart(e)},!1),this.elCarouselViewPort.addEventListener("touchend",function(e){return t.swipeEnd(e)},!1),document.addEventListener("keydown",this.onKeyDown.bind(this)),this.render()}},{key:"disconnectedCallback",value:function(){var t=this;this.pictures=[],this.elExit.removeEventListener("click",function(){return t.setAttribute("hidden","hidden")},!1),this.elPrev.removeEventListener("click",function(){return t.decrementIndex()},!1),this.elNext.removeEventListener("click",function(){return t.incrementIndex()},!1),this.elCarouselViewPort.removeEventListener("touchstart",function(e){return t.swipeStart(e)},!1),this.elCarouselViewPort.removeEventListener("touchend",function(e){return t.swipeEnd(e)},!1),document.addEventListener("keydown",this.onKeyDown.bind(this))}},{key:"onKeyDown",value:function(e){return this.fullScreenVisible&&27===e.keyCode?this.setAttribute("hidden","hidden"):this.fullScreenVisible&&37===e.keyCode?this.decrementIndex():this.fullScreenVisible&&39===e.keyCode?this.incrementIndex():void 0}},{key:"activeindex",get:function(){return this.getAttribute("activeindex")},set:function(e){this.setAttribute("activeindex",e)}},{key:"hidden",get:function(){return this.getAttribute("hidden")},set:function(e){this.setAttribute("hidden",e)}},{key:"swipeStart",value:function(e){this.startX=this.crossDeviceStartTouch(e).clientX}},{key:"swipeEnd",value:function(e){e.preventDefault(),!this.startX&&0!==this.startX||(e=this.startX-this.crossDeviceChangeTouch(e).clientX,e=0<Math.sign(e),this.activeindex<this.pictures.length-1&&e?this.incrementIndex():0<this.activeindex&&!e&&this.decrementIndex(),this.startX=null)}},{key:"crossDeviceStartTouch",value:function(e){return e.touches?e.touches[0]:e}},{key:"crossDeviceChangeTouch",value:function(e){return e.changedTouches?e.changedTouches[0]:e}},{key:"decrementIndex",value:function(){0<this.activeindex&&(this.activeindex=parseInt(this.activeindex,10)-1)}},{key:"incrementIndex",value:function(){parseInt(this.activeindex,10)<this.pictures.length-1&&(this.activeindex=parseInt(this.activeindex,10)+1)}},{key:"handleFullScreenVisible",value:function(){var e=this;this.fullScreenVisible=!0,this.prevScroll=window.scrollY,document.body.style.position="fixed",setTimeout(function(){e.elCarouselContainer.classList.add("smooth")}),this.elExit.focus(),this.dispatchEvent(new CustomEvent("open"))}},{key:"handleFullScreenHidden",value:function(){this.fullScreenVisible=!1,document.body.style.position=null,window.scrollTo(0,this.prevScroll||0),this.elCarouselContainer.classList.remove("smooth"),this.dispatchEvent(new CustomEvent("close"))}},{key:"handleVisibilityChange",value:function(e){if(""!==e)return null===e?this.handleFullScreenVisible():void this.handleFullScreenHidden()}},{key:"attributeChangedCallback",value:function(e,t,n){"hidden"===e&&this.handleVisibilityChange(n),"activeindex"===e&&this.renderCurrentSlide()}},{key:"renderCarouselImg",value:function(e){var t=document.createElement("div"),n=(t.setAttribute("data-qa","carousel-item-container"),t.setAttribute("class","carousel_item_container"),document.createElement("div")),i=(n.setAttribute("class","carousel_item"),document.createElement("img"));return i.setAttribute("data-qa","picture"),i.setAttribute("src",e||""),n.appendChild(i),t.appendChild(n),t}},{key:"renderCurrentSlide",value:function(){var e=parseInt(this.activeindex,10);this.elCarouselContainer.style.setProperty("transform","translateX("+-100*e+"%)"),this.elCountContainer.innerHTML=e+1+"/"+this.pictures.length,0===e?this.elPrevArrow.style.setProperty("color","#DCDCE6"):e===this.pictures.length-1?this.elNextArrow.style.setProperty("color","#DCDCE6"):(this.elPrevArrow.style.setProperty("color","#757A84"),this.elNextArrow.style.setProperty("color","#757A84"))}},{key:"render",value:function(){var n=this;this.elCarouselContainer.innerHTML="",this.pictures.forEach(function(e,t){e=n.renderCarouselImg(e.srcFull);n.elCarouselContainer.appendChild(e)})}}],[{key:"observedAttributes",get:function(){return["hidden","activeindex"]}}]),n}());window.customElements.get("full-screen-carousel")||window.customElements.define("full-screen-carousel",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var o=window.Manager,e=window.__RT__,s=e.cookie,r=e.fetcher,e=function(){_inherits(i,o);var t,e,n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.call(this)).enforceActions=!0,e.traceName="JwPlayerManager",e.state={action:"constructor",data:{},didVideoComplete:!1,isAdPlaying:!1,isAgeVerified:!1,isInPlayerSession:!1,isJwPlayerScriptLoaded:!1,jwPlayerSetupConfig:{},isRelatedOpen:!1,playlistCurrentIndex:0},e.getPlaylist=e.getPlaylist.bind(_assertThisInitialized(e)),e.initJwPlayer=e.initJwPlayer.bind(_assertThisInitialized(e)),e.remapVideosById=e.remapVideosById.bind(_assertThisInitialized(e)),e.removePlayer=e.removePlayer.bind(_assertThisInitialized(e)),e.setPlaylistItemById=e.setPlaylistItemById.bind(_assertThisInitialized(e)),e}return _createClass(i,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _get(_getPrototypeOf(i.prototype),"connectedCallback",this).call(this),e.next=3,r.ready();case 3:this.dom=_objectSpread({},this.domElements()),this.domActions(),window.jwplayer&&this.setState({action:"jwPlayerScriptLoaded",isJwPlayerScriptLoaded:!0});case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"stateUpdated",value:function(){switch(this.state.action){case"onJwpAdComplete":this.setState({action:"adComplete",isAdPlaying:!1});break;case"onJwpAdPlay":this.setState({action:"adStarted",isAdPlaying:!0});break;case"onJwpAdPause":this.state.isAdPlaying&&this.JW_PLAYER.play();break;case"onJwpBeforePlay":if(this.state.isInPlayerSession)return;this.setState({action:"handleFirstPlay"});break;case"onJwpComplete":this.setState({action:"videoComplete",didVideoComplete:!0});break;case"onJwpError":this._adobeDataLayerPush("media-error");break;case"onJwpNextClick":this.setState({action:"nextClicked",didVideoComplete:!0});break;case"onJwpPause":this.state.isRelatedOpen||this._toggleVideoTitleDisplay("block"),30<this.JW_PLAYER.getCurrentTime()/this.JW_PLAYER.getDuration()*100&&this._startSessionTimeoutTimer();break;case"onJwpPlay":if(this._toggleVideoTitleDisplay("none"),this.state.isAgeVerified)return;this.JW_PLAYER.getPlaylistItem().isRedBand&&(this.JW_PLAYER.pause(),this._ageGateScreenRender());break;case"onJwpPlayAttemptFailed":this._adobeDataLayerPush("media-player-attempt-fail");break;case"onJwpPlaylistItem":this.setState({action:"handleNextVideoPlay",playlistCurrentIndex:this.state.domEvent.index});break;case"onJwpReady":this._comscoreUpdate();break;case"onJwpRemove":this.setState({action:"isInPlayerSession",isInPlayerSession:!1});break;case"ageGateScreenUpdate":this._ageGateScreenUpdate();break;case"handleFirstPlay":this.JW_PLAYER.setCurrentCaptions(0),this._addPluginEvents(),this._adobeDataLayerPush("media-play"),this.setState({action:"isInPlayerSession",isInPlayerSession:!0});break;case"handleNextVideoPlay":this.state.didVideoComplete&&(this._adobeDataLayerPush("media-play"),this._comscoreUpdate(),this.setState({action:"videoStart",didVideoComplete:!1}));break;case"onOverlayBaseClose":this._adobeDataLayerPush("media-modal-close"),this.removePlayer()}}},{key:"_addPluginEvents",value:function(){var e,t=this;null!=(e=this.JW_PLAYER.plugins)&&e.related&&(this.JW_PLAYER.plugins.related.on("open",function(){t.attachEvents([{el:document.querySelector(".jw-related-close"),eventType:"click",fn:t._onRelatedCloseBtnClick.bind(t)}]),t._toggleVideoTitleDisplay("none"),t.dispatchEvent(new CustomEvent("relatedOpen")),t.setState({action:"isRelatedOpen",isRelatedOpen:!0})}),this.JW_PLAYER.plugins.related.on("close",function(){"paused"===t.JW_PLAYER.getState()&&t._toggleVideoTitleDisplay("block"),t.setState({action:"isRelatedOpen",isRelatedOpen:!1})}))}},{key:"_adobeDataLayerPush",value:function(e){var t=this.JW_PLAYER.getPlaylistItem();window.__RT__.analytics.captureAdobe(_objectSpread({event:e},t.adobeDataLayer))}},{key:"_ageGateScreenRender",value:function(){var e=this.JW_PLAYER.getContainer(),t=document.createElement("jw-player-age-gate-screen");e.appendChild(t),this.attachEvents([{el:t,eventType:"consent",fn:this._onElAgeGateScreenConsent.bind(this)}])}},{key:"_ageGateScreenUpdate",value:function(){var e=this.JW_PLAYER.getContainer(),t=e.querySelector("jw-player-age-gate-screen"),e=e.querySelector(".jw-controls");this.state.isAgeVerified?(e.style.display="block",t.remove(),this.JW_PLAYER.play()):([e,t.shadowRoot.querySelector("#btn-yes"),t.shadowRoot.querySelector("#btn-no")].forEach(function(e){return e.remove()}),t.shadowRoot.querySelector("p").innerText="Sorry, this content is not playable.")}},{key:"_comscoreUpdate",value:function(){var e=this.JW_PLAYER.getPlaylistItem(),t=e.comscore.labelmapping;window.ns_.StreamingAnalytics.JWPlayer(this.JW_PLAYER,{publisherId:"6035083",labelmapping:"".concat(t,', ns_st_ep="').concat(e.title,'"')})}},{key:"_freewheelAddPixel",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,i,o,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.__RT__.fetcher,i="https://29773.v.fwmrm.net/ad/u",o="".concat(location.origin,"/napi/tracking/freewheel/pixelsync?vcid2=").concat(t),e.next=6,n.ready();case 6:return e.next=8,n.fetchJson(o);case 8:r=e.sent,(a=document.createElement("img")).id="fw_".concat(r.vcid2),a.src="".concat(i,"?mode=echo&cr=").concat(encodeURIComponent(o)),a.style.width="1px",a.style.height="1px",a.style.display="none",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0);case 20:case"end":return e.stop()}},e,null,[[0,17]])})),function(e){return t.apply(this,arguments)})},{key:"_freewheelGetParams",value:function(e,t,n){if(!e)return"";try{var i=this._isMobile?{CSID:"rotten_tomatoes_video_vod_mobile",SFID:"1913547"}:{CSID:"rotten_tomatoes_video_vod",SFID:"1913546"},o={_fw_h_referer:"www.rottentomatoes.com",_fw_vcid2:e,csid:i.CSID,sfid:i.SFID,_fw_gdpr:0,_fw_gdpr_consent:""};return t&&(o._fw_gdpr=1,o._fw_gdpr_consent=t),n&&(o._fw_us_privacy=n),o}catch(e){return{}}}},{key:"_freewheelGetPlayerDimensions",value:function(){return 0<this.JW_PLAYER.getContainer().offsetWidth?{_fw_player_width:this.JW_PLAYER.getContainer().offsetWidth,_fw_player_height:this.JW_PLAYER.getContainer().offsetHeight}:{_fw_player_width:this._isMobile?390:1e3,_fw_player_height:this._isMobile?220:563}}},{key:"_freewheelGetUuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{key:"_freewheelGetVcid2",value:function(e){return e?document.getElementById("fw_".concat(e))||this._freewheelAddPixel(e):(e=this._freewheelGetUuidv4(),this._freewheelAddPixel(e)),e}},{key:"getPlaylist",value:function(){return this.JW_PLAYER.getPlaylist()}},{key:"initJwPlayer",value:function(e){var t,n,i,o,r=e.disableAds,a=e.playerId,e=e.videos;a&&e.length&&(this.JW_PLAYER=window.jwplayer(a),a=e[0],t=this._freewheelGetVcid2(s.get("fw_vcid2")),n=s.get("eupubconsent-v2"),i=s.get("usprivacy"),n=this._freewheelGetParams(t,n,i),i="fandango_".concat(a.mpxId),o=null==n?void 0:n.csid,this.JW_PLAYER.setup({autostart:"viewable",autoPause:{viewability:!1,pauseAds:!1},mute:!1,playlist:e,repeat:!0,fwassetid:i,advertising:r?{}:{client:"freewheel",vpaidcontrols:!0,freewheel:{networkid:169843,serverid:"https://29773.v.fwmrm.net/ad/g/1",profileid:"169843:nbcu_fandango_web_jwp",sectionid:o,adManagerURL:"https://mssl.fwmrm.net/libs/adm/6.55.0/AdManager.js",afid:158702674,vcid:t,sfid:null==n?void 0:n.sfid,csid:o,caid:i,resp:"json",metr:1023,vdur:null==a?void 0:a.duration,capabilities:{flag:{sltp:"on",emcr:"on",slcb:"on",nucr:"on",sbid:"on",fbad:"on",aeti:"on",slif:"on",vicb:"on",amcb:"on",dtrd:"on"}},custom:_objectSpread({_fw_h_referer:null==n?void 0:n._fw_h_referer,_fw_vcid2:t,_fw_us_privacy:null==n?void 0:n._fw_us_privacy,_fw_gdpr:null==n?void 0:n._fw_gdpr,_fw_gdpr_consent:null==n?void 0:n._fw_gdpr_consent,_fw_h_user_agent:navigator.userAgent},this._freewheelGetPlayerDimensions())},schedule:[{tag:"fw-preroll"}]}}),this._registerJwPlayerEvents(this.JW_PLAYER))}},{key:"_onDispatchJwPlayerEvent",value:function(e){var t=e.type,n=this.JW_PLAYER.getContainer().id;this.dispatchEvent(new CustomEvent(t,{detail:_objectSpread(_objectSpread({},e),{},{playerId:n})}))}},{key:"_onElAgeGateScreenConsent",value:function(e){e=e.detail.isAgeVerified;this.setState({action:"ageGateScreenUpdate",isAgeVerified:e})}},{key:"_onRelatedBtnClick",value:function(e){this.dispatchEvent(new CustomEvent("relatedOpen",{detail:_objectSpread({},e)}))}},{key:"_onRelatedCloseBtnClick",value:function(e){this.dispatchEvent(new CustomEvent("relatedClose",{detail:_objectSpread({},e)}))}},{key:"_registerJwPlayerEvents",value:function(t){var n=this;["ready","remove","adComplete","adPause","adPlay","beforePlay","complete","error","nextClick","pause","play","playAttemptFailed","playlistItem"].forEach(function(e){t.on(e,function(e){return n.domAction(e,"jwp")}),t.on(e,function(e){return n._onDispatchJwPlayerEvent(e)})})}},{key:"remapVideosById",value:function(e,t){var i;return e[0].publicId===t?e:(i=e.findIndex(function(e){return e.publicId===t}),e.reduce(function(e,t,n){return n<i&&(n=e.shift(),e.push(n)),e},e))}},{key:"removePlayer",value:function(){window.jwplayer().remove()}},{key:"setPlaylistItemById",value:function(t){var e;t&&(e=this.JW_PLAYER.getPlaylist().findIndex(function(e){return e.publicId===t}),this.JW_PLAYER.playlistItem(e))}},{key:"_startSessionTimeoutTimer",value:function(){var t=this,n=10,i=setInterval(function(){var e;return 0<=--n?"play"===(null==(e=t.state.domEvent)?void 0:e.type)?clearInterval(i):void 0:(t._adobeDataLayerPush("media-timeout"),clearInterval(i))},1e3)}},{key:"_toggleVideoTitleDisplay",value:function(e){document.querySelector(".jw-title")&&(document.querySelector(".jw-title").style.display=e)}}]),i}();window.customElements.get("jw-player-manager")||window.customElements.define("jw-player-manager",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=document.createElement("template"),e=(o.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      padding: 15px;\n      z-index: 2000;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .content-wrap {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      color: var(--white);\n    }\n\n    p { margin-top: 0; }\n  ",'</style>\n\n    <div class="content-wrap">\n      <h3>Age Verification</h3>\n      <p>This content is rated: adult. By clicking YES, I certify that I am 17 or older.</p>\n      <div class="btns-wrap">\n        <rt-button id="btn-yes">\n          <span>Yes</span>\n        </rt-button>\n        <rt-button id="btn-no">\n          <span>No</span>\n        </rt-button>\n      </div>\n    </div>\n  '),function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elJwPlayerControls:document.querySelector(".jw-controls"),elSubHeader:e.select("p"),elBtnNo:e.select("#btn-no"),elBtnYes:e.select("#btn-yes")},e.initBool(["hidden"]),e.initSlotted(),e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.attachEvents([{el:this.dom.elBtnNo,eventType:"click",fn:this._onElBtnNoClick},{el:this.dom.elBtnYes,eventType:"click",fn:this._onElBtnYesClick}]),this.dom.elJwPlayerControls.style.display="none";case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this)}},{key:"template",value:function(){return o}},{key:"_onElBtnNoClick",value:function(){this.dispatchEvent(new CustomEvent("consent",{detail:{isAgeVerified:!1}}))}},{key:"_onElBtnYesClick",value:function(){this.dispatchEvent(new CustomEvent("consent",{detail:{isAgeVerified:!0}}))}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),n}());window.customElements.get("jw-player-age-gate-screen")||window.customElements.define("jw-player-age-gate-screen",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=document.createElement("template"),e=(o.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-size: 1rem;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .links-wrap {\n      display: flex;\n      overflow-x: auto;\n      overflow-y: hidden;\n    }\n\n    a { margin-right: 15px; }\n    a.disabled { cursor: default; pointer-events: none; }\n\n    filter-chip span[slot="label"] {\n      font-family: var(--fontFranklinGothic);\n      font-size: .875rem;\n      font-weight: 500;\n      text-transform: uppercase;\n      letter-spacing: 0.31px;\n      line-height: 1.3;\n    }\n  ','</style>\n    <div class="links-wrap">\n      <a class="critics disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No critics</span>\n        </filter-chip>\n      </a>\n      <a class="audience disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No audience</span>\n        </filter-chip>\n      </a>\n      <a class="videos disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No videos</span>\n        </filter-chip>\n      </a>\n      <a class="photos disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No photos</span>\n        </filter-chip>\n      </a>\n    </div>\n  '),function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elAudienceLink:e.select(".audience"),elCriticsLink:e.select(".critics"),elListWrap:e.select(".links-wrap"),elPhotosLink:e.select(".photos"),elVideosLink:e.select(".videos")},e._linkChipsData=e.getJSON("link-chips-json")||{},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initSlotted(),this.initBool(["hidden"]),e.next=4,this.elementsDefined();case 4:this._renderLinks(this._linkChipsData),this.attachEvents([{el:this.dom.elListWrap,eventType:"scroll",fn:this._onLinksScroll.bind(this)},{el:this.dom.elAudienceLink,eventType:"click",fn:this._onLinkClicked.bind(this)},{el:this.dom.elCriticsLink,eventType:"click",fn:this._onLinkClicked.bind(this)},{el:this.dom.elPhotosLink,eventType:"click",fn:this._onLinkClicked.bind(this)},{el:this.dom.elVideosLink,eventType:"click",fn:this._onLinkClicked.bind(this)}]),this.ready();case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_onLinksScroll",value:function(){var e=this.dom.elListWrap.scrollLeft;e<=0&&(this.dom.elListWrap.style.marginLeft="0px",this.dom.elListWrap.style.marginRight="-15px",this.dom.elListWrap.width="calc(100% + 15px)"),0<e&&(this.dom.elListWrap.style.marginLeft="-15px",this.dom.elListWrap.style.marginRight="-15px",this.dom.elListWrap.style.width="calc(100% + 30px)")}},{key:"_onLinkClicked",value:function(e){var t,e=e.currentTarget;e.classList.contains("disabled")||(t="",e===this.dom.elAudienceLink&&(t="mop:audience"),e===this.dom.elCriticsLink&&(t="mop:critics"),e===this.dom.elPhotosLink&&(t="mop:photos"),e===this.dom.elVideosLink&&(t="mop:videos"),window.dataLayer.push({event:"generic click",clickDetails:t}))}},{key:"_showLink",value:function(e,t){var n=e.querySelector("filter-chip"),i=e.querySelector('filter-chip span[slot="label"]');e.href=t,e.classList.remove("disabled"),n.disabled=!1,i.innerHTML=i.innerHTML.split("No ")[1]}},{key:"_renderLinks",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.dom,n=t.elAudienceLink,i=t.elCriticsLink,o=t.elPhotosLink,t=t.elVideosLink,r=e.audienceReviewsUrl,a=e.criticsReviewsUrl,s=e.photosUrl,l=e.showAudienceChip,c=e.showCriticsChip,d=e.showPhotosChip,u=e.showVideosChip,e=e.videosUrl;l&&this._showLink(n,r),c&&this._showLink(i,a),d&&this._showLink(o,s),u&&this._showLink(t,e)}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),n}());window.customElements.get("link-chips-overview-page")||window.customElements.define("link-chips-overview-page",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Manager,t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).traceName="PhotosCarouselManager",e.enforceActions=!0,e.state={action:"",isFullScreenCarouselOpen:!1},e}return _createClass(n,[{key:"connectedCallback",value:function(){_get(_getPrototypeOf(n.prototype),"connectedCallback",this).call(this),this.dom=_objectSpread({},this.domElements()),this.domActions()}},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this)}},{key:"stateUpdated",value:function(){switch(this.state.action){case"onTileClick":var e=this.state.domEvent.currentTarget.getAttribute("activeindex");this.dom.fullScreenCarousel[0].setAttribute("activeindex",e),this.dom.fullScreenCarousel[0].removeAttribute("hidden");break;case"onFullScreenCarouselClose":this.dom.fullScreenCarousel[0].setAttribute("activeindex","")}}}]),n}();window.customElements.get("photos-carousel-manager")||window.customElements.define("photos-carousel-manager",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      width: 100%;\n      margin-top: 15px;\n      line-height: 1;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .review-quote {\n      display: flex;\n      border: 1px solid #000;\n      padding: 5px;\n      position: relative;\n    }\n\n    .review-quote:before,\n    .review-quote:after {\n      border-style: solid;\n      content: \'\';\n      display: block;\n      position: absolute;\n      width: 0;\n    }\n    \n    .review-quote:before {\n      border-color: transparent #000 transparent transparent;\n      border-width: 0 28px 28px 0;\n      bottom: -28px;\n      left: 39px;\n      z-index: 0;\n    }\n\n    .review-quote:after {\n      border-color: transparent #fff transparent transparent;\n      border-width: 0 26px 26px 0;\n      bottom: -25px;\n      left: 40px;\n      z-index: 1;\n    }\n\n    score-icon-critic-deprecated {\n      margin-right: 10px;\n    }\n\n    .quote-container {\n      display: flex;\n      width: 100%;\n      flex-direction: column;\n    }\n\n    .review-meta-data {\n      display: inline;\n      align-self: flex-end;\n      font-size: 0.75rem;\n    }\n\n    .critic-data {\n      display:inline-block;\n    }\n\n    slot[name="critic-link"] {\n      display: block;\n      line-height: 1;\n    }\n\n    slot[name="publication-link"] {\n      display: block;\n      line-height: 1;\n    }\n\n    .quote {\n      margin: 0 0 10px;\n    }\n\n    .critic-info {\n      display: flex;\n      margin-left: 75px;\n      margin-top: 10px;\n    }\n\n    .critic-image {\n      width: 50px;\n      height: 50px;\n      padding-right: 10px;\n    }\n\n    @media (min-width: 768px) {\n      :host {\n        width: 345px;\n        margin-top: 15px;\n        line-height: 1.25;\n      }\n\n      .review-quote {\n        display: flex;\n        border: 2px solid #000;\n        padding: 12px;\n        position: relative;\n      }\n    }\n  ','</style>\n    <div class="review-quote">\n        <score-icon-critic-deprecated size="small" percentage="hide">\n        </score-icon-critic-deprecated>\n          \n        <div class="quote-container">\n            <p class="quote"></p>\n            <span class="review-meta-data">\n                <span class="review-time-and-rating"></span>\n                <slot name="review-url"></slot>\n            <span/>\n          </span>\n        </div>\n    </div>\n    <div class="critic-info">\n        <img\n          alt="Critic profile image"\n          class="critic-image" \n          data-qa="critic-avatar"\n          loading="lazy"\n          src="/assets/pizza-pie/images/user_none.710c9ebd183.jpg"\n        >\n        <div class="critic-data">\n            <slot name="critic-link"></slot>\n            <slot name="publication-link"></slot>\n            <rt-icon-top-critic hidden class="small"></rt-icon-top-critic>\n        </div>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={criticImage:e.select(".critic-image"),scoreIconCritic:e.select("score-icon-critic-deprecated"),reviewTimeAndRating:e.select(".review-time-and-rating"),topCritic:e.select("rt-icon-top-critic"),quote:e.select(".quote")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden","istopcritic"]),this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeCreatedate",value:function(e){this.dom.reviewTimeAndRating.innerText="".concat(e," | ").concat(this.originalscore?"Rating: ".concat(this.originalscore," | "):"")}},{key:"_attributeCriticimageurl",value:function(e){e&&(this.dom.criticImage.src=e)}},{key:"_attributeOriginalscore",value:function(e){this.dom.reviewTimeAndRating.innerText="".concat(this.createdate," | ").concat(e?"Rating: ".concat(e," | "):"")}},{key:"_attributeReviewquote",value:function(e){this.dom.quote.innerText=e}},{key:"_attributeScorestate",value:function(e){this.dom.scoreIconCritic.state=e}},{key:"_attributeIstopcritic",value:function(){"true"===this.istopcritic?this.dom.topCritic.removeAttribute("hidden"):this.dom.topCritic.setAttribute("hidden",!0)}}],[{key:"observedAttributes",get:function(){return["createdate","criticimageurl","hidden","istopcritic","originalscore","reviewquote","scorestate"]}}]),n}());window.customElements.get("review-speech-balloon-deprecated")||window.customElements.define("review-speech-balloon-deprecated",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var r=window.Component,a=document.createElement("template"),e=(a.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n\n      --tabs-container-height: auto;\n    }\n    \n    :host([hidden]), .hide { display: none; }\n\n    #panels-container {\n      display: flex;\n      flex-direction: column;\n      transition: height 0.2s ease-in-out;\n      height: var(--tabs-container-height);\n      position: relative;\n    }\n\n    #tabs-container {\n      display: flex;\n    }\n  ",'</style>\n    <article>\n      <slot name="tabBar"></slot>\n      <div id="panels-container">\n        <slot name="tabPanel"></slot>\n      </div>\n    </article>\n  '),function(){_inherits(o,r);var t,n,e,i=_createSuper(o);function o(){_classCallCheck(this,o),(e=i.call(this)).initBool(["hidden"]),e.initSlotted();var e,t=_assertThisInitialized(e);return e.dom={elTabBarSlot:e.select('slot[name="tabBar"]'),elTabPanelSlot:e.select('slot[name="tabPanel"]'),get wcsTabPanels(){var e;return Array.from((null==(e=t.select('slot[name="tabPanel"]'))?void 0:e.assignedNodes())||[])}},e.selected&&(e.prevTab=e.selected),e.attachEvents([{el:e.dom.elTabPanelSlot,eventType:"slotchange",fn:e._onSlottedTabChange.bind(_assertThisInitialized(e))},{el:e.dom.elTabBarSlot,eventType:"click",fn:e._onTabBarClick.bind(_assertThisInitialized(e))}]),e}return _createClass(o,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined("rt-tabs-deprecated-panel");case 2:this._showSelectedTabOnly(),this.ready();case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return a}},{key:"_attributeSelected",value:(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transitionInProgress)return e.next=3,this._transitionInProgress;e.next=4;break;case 3:this._transitionInProgress=void 0;case 4:this._setActiveTab(t),this._transitionInProgress=this._changeVisiblePanel(t);case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_changeVisiblePanel",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._getTabPanel(this.prevTab),i=this._getTabPanel(t)){e.next=4;break}return e.abrupt("return");case 4:if(i.classList.add("tab-fade-in"),i.hidden=!1,n)return this.style.setProperty("--tabs-container-height",this._getTabPanelHeight(n)+"px"),this.style.setProperty("--tabs-container-height",this._getTabPanelHeight(i)+"px"),n.classList.add("tab-fade-out"),e.next=12,this._waitForTransitionEnd(n,300);e.next=14;break;case 12:n.hidden=!0,n.classList.remove("tab-fade-out");case 14:return i.classList.remove("tab-fade-in"),e.next=17,this._waitForTransitionEnd(i,300);case 17:this.style.setProperty("--tabs-container-height",null),this.prevTab=t;case 19:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_getTabPanel",value:function(t){return this.dom.wcsTabPanels.find(function(e){return e.value===t})}},{key:"_getTabPanelHeight",value:function(e){var t=getComputedStyle(e);return e.clientHeight+2*parseInt(t.margin)}},{key:"_onSlottedTabChange",value:function(){this._showSelectedTabOnly()}},{key:"_onTabBarClick",value:function(e){this.selected=null==(e=e.target)?void 0:e.value}},{key:"_setActiveTab",value:function(t){function n(e){return e.tagName.includes("-")&&(null==(e=e.constructor.observedAttributes)?void 0:e.includes("value"))}var e=null==(e=this.slotted.tabBar)?void 0:e[0];if(e)return n(e)?e.value=t:void _toConsumableArray(e.children).forEach(function(e){if(e.value===t)return n(e)?e.active=!0:void e.classList.add("active")})}},{key:"_showSelectedTabOnly",value:function(){var e,t=this;this.selected||(e=this.dom.wcsTabPanels[0],this.selected=e&&e.value),this.dom.wcsTabPanels.forEach(function(e){return e.hidden=e.value!==t.selected})}},{key:"_waitForTransitionEnd",value:function(n,t){var e=new Promise(function(t){n.addEventListener("transitionend",function e(){n.removeEventListener("transitionend",e),t()})}),i=new Promise(function(e){return setTimeout(e,t)});return Promise.race([e,i])}}],[{key:"observedAttributes",get:function(){return["hidden","selected"]}}]),o}());window.customElements.get("rt-tabs-deprecated")||window.customElements.define("rt-tabs-deprecated",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var n=window.Component,i=document.createElement("template"),e=(i.innerHTML="\n    <style>".concat("\n  :host {\n    display: block;\n    transition: opacity 0.2s ease-in-out;\n    opacity: 1;\n    box-sizing: border-box;\n  }\n\n  :host(.tab-fade-out) {\n    opacity: 0;\n  }\n\n  :host(.tab-fade-in) {\n    opacity: 0;\n    position: absolute;\n    right: 0;\n  }\n\n  :host([hidden]) { display: none; }\n  ","</style>\n    <slot></slot>\n  "),function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted()}},{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["hidden","value"]}}]),t}());window.customElements.get("rt-tabs-panel-deprecated")||window.customElements.define("rt-tabs-panel-deprecated",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=13,r=document.createElement("template"),a=(r.innerHTML="\n    <style>".concat("\n    :host {\n      --fontColor: var(--grayDark2, #2A2C32);\n      --backgroundColor: var(--grayLight1, #F3F3F3);\n      --backgroundImage: none;\n\n      display: block;\n      width: 100%;\n      height: 100%;\n      font-size: 1rem;\n    }\n\n    :host([hidden]), .hide { display: none; }\n\n    .score-board-wrap {\n      display: flex; \n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      padding: 16px 0;\n      border-radius: 8px;\n      background-color: var(--backgroundColor);\n      background-image: var(--backgroundImage);\n      background-size: cover;\n      font-family: var(--fontFranklinGothic);\n    }\n\n    .scores-container {\n      display: flex;\n      width: 100%;\n      justify-content: center;\n    }\n\n    .scores-container > * {\n      flex: 1;\n    }\n\n    .info-container {\n      margin: 4px 0 13px 0;\n      font-weight: normal;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: 1.29;\n      font-size: 0.875rem;\n      letter-spacing: normal;\n      color: var(--fontColor);\n    }\n\n    #rating {\n      border-radius: 3px;\n      border: solid 1px #CCCFD1;\n      padding: 0px 3px;\n    }\n\n    .score-type {\n      margin-top: 9px;\n      display: block;\n      text-transform: uppercase;\n      font-size: 0.875rem;\n      font-weight: 500;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: 1.29;\n      letter-spacing: normal;\n      color: var(--fontColor);\n    }\n\n    .tomatometer-container,\n    .audience-container {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .scores-container.center .tomatometer-container {\n      margin-right: 0;\n      justify-content: center;\n      flex-direction: column;\n      flex: unset;\n      text-align: center;\n    }\n\n    .audience-container.hide {\n      display: none;\n    }\n\n    .tomatometer-container {\n      margin-right: 50px;\n      text-align: right;\n    }\n\n    .audience-container {\n      text-align: left;\n    }\n\n    score-icon-critic-deprecated, score-icon-audience-deprecated {\n      cursor: pointer;\n      font-size: 0.938rem;\n      font-weight: 600;\n      outline: none;\n    }\n\n    score-icon-critic-deprecated:hover, score-icon-audience-deprecated:hover {\n      color: var(--blueHover, #2A62C0);\n    }\n\n    @media (min-width: 768px) {\n      .score-board-wrap {\n        height: 100%;\n        padding: 30px 0;\n      }\n\n      .info-container {\n        margin: 7px 0 23px 0;\n      }\n\n      score-icon-critic-deprecated, score-icon-audience-deprecated {\n        font-weight: 600;\n        font-size: 0.75rem;\n      }\n    }\n  ",'</style>\n    <div class="score-board-wrap">\n      <slot name="title"></slot>\n      <div class="info-container">\n        <span id="rating" hidden></span>\n        <slot name="info"></slot>\n      </div>\n      <div class="scores-container">\n        <div class="tomatometer-container" data-qa="tomatometer-container">\n          <div tabindex="0" @keydown="_onScoreKeydown">\n            <score-icon-critic-deprecated\n              alignment="right"\n              size="medium"\n              @click="_onScoreClick"\n              skeleton="chip"\n              data-qa="score-icon-critic-deprecated"\n            ></score-icon-critic-deprecated>\n          </div>\n          <span class="score-type">Tomatometer</span>\n          <slot name="critics-count"></slot>\n        </div>\n        <div class="audience-container" data-qa="audience-score-container">\n          <div tabindex="0" @keydown="_onScoreKeydown">\n            <score-icon-audience-deprecated\n              alignment="left"\n              size="medium"\n              skeleton="chip"\n              @click="_onScoreClick"\n              data-qa="score-icon-audience-deprecated"\n            ></score-icon-audience-deprecated>\n          </div>\n          <span class="score-type">Audience Score</span>\n          <slot name="audience-count"></slot>\n        </div>\n      </div>\n      <slot name="sponsorship"></div>\n    </div>\n  '),window.matchMedia("(min-width: 768px)")),e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elRating:e.select("#rating"),wcScoreIconAudience:e.select("score-icon-audience-deprecated"),wcScoreIconCritic:e.select("score-icon-critic-deprecated")},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined();case 2:this.initBool(["hidden"]),this.initSlotted(),this._adjustInfo(),this._adjustScoreIcons(!this._isMobile),this._adjustTitle(!this._isMobile),"tvepisode"===this.mediatype&&this._hideAudienceContainer(),this.attachEvents([{el:a,eventType:"change",fn:this._onMediaMatch}]),this.ready();case 10:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return r}},{key:"_adjustInfo",value:function(){var e=this.dom.elRating,t=this.select('slot[name="info"');e.innerText||this.slotted.info[0].innerHTML||(e.classList.add("hide"),t.classList.add("hide"))}},{key:"_adjustScoreIcons",value:function(e){e=e?"big":"medium";this.dom.wcScoreIconAudience.size=e,this.dom.wcScoreIconCritic.size=e}},{key:"_adjustTitle",value:function(e){var t;"tvseries"===this.mediatype&&(t=e?"Average Tomatometer":"Avg Tomatometer",e=e?"Average Audience Score":"Avg Audience Score",this.select(".tomatometer-container .score-type").innerText=t,this.select(".audience-container .score-type").innerText=e)}},{key:"_attributeAudiencescore",value:function(e){this.dom.wcScoreIconAudience.percentage=e}},{key:"_attributeAudiencestate",value:function(e){this.dom.wcScoreIconAudience.state=e}},{key:"_attributeContentfontcolor",value:function(e){this.dom.wcScoreIconAudience.style.setProperty("--fontColor",e),this.dom.wcScoreIconCritic.style.setProperty("--fontColor",e)}},{key:"_attributeRating",value:function(e){e&&(this.dom.elRating.hidden=!1,this.dom.elRating.innerText=e)}},{key:"_attributeTomatometerstate",value:function(e){this.dom.wcScoreIconCritic.state=e}},{key:"_attributeTomatometerscore",value:function(e){this.dom.wcScoreIconCritic.percentage=e}},{key:"_hideAudienceContainer",value:function(){this.select(".audience-container").classList.add("hide"),this.select(".scores-container").classList.add("center")}},{key:"_onMediaMatch",value:function(e){this._adjustScoreIcons(e.matches),this._adjustTitle(e.matches)}},{key:"_onScoreClick",value:function(e){e=e.target.nodeName.split("-")[2],e=new CustomEvent("scoreClick",{detail:{scoreType:e}});this.dispatchEvent(e)}},{key:"_onScoreKeydown",value:function(e){e.keyCode===o&&(e=e.target.firstElementChild)&&e.click()}}],[{key:"observedAttributes",get:function(){return["audiencescore","audiencestate","contentfontcolor","hidden","mediatype","rating","tomatometerstate","tomatometerscore"]}}]),n}();window.customElements.get("score-board")||window.customElements.define("score-board",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 200;\n      background-color: var(--white, #FFFFFF);\n      font-family: var(--fontFranklinGothic);\n      font-size: 0.875rem;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .score-details { display: block; padding: 20px; }\n    .score-details.no-audience .divider,\n    .score-details.no-audience slot[name="audience"] {\n      display: none;\n    }\n    .header-wrap { display: flex; justify-content: flex-end; }\n    .content-wrap { display: flex; flex-direction: column; padding: 10px; }\n\n    .divider { width: 100%; margin-bottom: 20px; }\n    .divider::after {\n      content: "";\n      border-top: 1px solid var(--grayLight2, #E9E9EA);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    @media (min-width: 768px) {\n      :host { position: static; border-radius: 4px; }\n      \n      .score-details { width: 745px; }\n      .score-details.no-audience { width: auto }\n\n      .content-wrap { flex-direction: row; }\n\n      .divider {\n        width: 0;\n        height: 235px;\n        margin: 0 10px 0 0;\n        padding: 0 20px 0 0;\n        border-top: 0;\n      }\n      .divider::after {\n        height: inherit;\n        border-left: 1px solid var(--grayLight2, #E9E9EA);\n      }\n    }\n  ','</style>\n\n    <div class="score-details">\n      <div class="header-wrap">\n        <slot name="btn-close"></slot>\n      </div>\n      <div class="content-wrap">\n        <slot name="critics"></slot>\n        <div class="divider"></div>\n        <slot name="audience"></slot>\n      </div>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked"]),e.initSlotted(),e}return _createClass(n,[{key:"connectedCallback",value:function(){this.slotted.audience[0]||this.select(".score-details").classList.add("no-audience")}},{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),n}());window.customElements.get("score-details")||window.customElements.define("score-details",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      font-family: var(--fontFranklinGothic);\n      font-size: 0.875rem;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .wrap { margin-bottom: 20px; }\n    .wrap p { margin: 0; color: var(--grayDark1, #505257); }\n\n    .title-wrap { display: flex; align-items: center; }\n    .title {\n      margin: 0 5px 0 0;\n      text-transform: uppercase;\n      font-size: 1.25rem;\n    }\n\n    ::slotted(filter-chip:first-child) { margin-right: 10px; }\n\n    score-icon-audience-deprecated { margin-bottom: 5px; }\n\n    @media (min-width: 768px) {\n      .wrap:last-child { margin-bottom: 0; }\n\n      .score-details-audience { width: 350px; }\n    }\n  ",'</style>\n\n    <div class="score-details-audience">\n  \n      <div class="wrap title-wrap">\n        <h3 class="title" data-qa="score-details-audience-score-title">Audience</h3>\n        <slot name="tooltip"></slot>\n      </div>\n\n      <div class="empty" hidden>\n        <p>There is no Audience Score because there are not enough ratings yet.</p>\n      </div>\n\n      <div class="info">\n        <div class="wrap button-wrap">\n          <slot name="btn-verified-audience"></slot>\n          <slot name="btn-all-audience"></slot>\n        </div>\n\n        <div class="wrap score-wrap">\n          <score-icon-audience-deprecated\n            state=""\n            percentage=""\n            size="medium"\n            alignment="left"\n            data-qa="audience-score-container"\n          ></score-icon-audience-deprecated>\n          <p class="rating-count" data-qa="rating-count"></p>\n        </div>\n\n        <div class="wrap stars-wrap" data-qa="score-detail-breakdown">\n          <star-rating averagestars="0" data-qa="avg-rating-stars"></star-rating>\n        </div>\n      </div>\n    \n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked","isempty"]),e.dom={elAverageRating:e.select(".average-rating"),elEmpty:e.select(".empty"),elInfo:e.select(".info"),elRatingCount:e.select(".rating-count"),elScoreIconAudience:e.select("score-icon-audience-deprecated"),elStarRating:e.select("star-rating")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeState",value:function(e){this.dom.elScoreIconAudience.setAttribute("state",e)}},{key:"_attributeAveragerating",value:function(e){if(isNaN(parseInt(e)))return this.select(".stars-wrap").classList.add("hide");this._setStarRating(e)}},{key:"_attributeBandedratingcount",value:function(e){this._renderBandedRatingCountText(e,this.scoretype)}},{key:"_attributeIsempty",value:function(e){e&&(this.dom.elInfo.setAttribute("hidden","true"),this.dom.elEmpty.removeAttribute("hidden"))}},{key:"_attributeMediatype",value:function(e){"tvseries"===e&&(this.select(".title").innerText="Avg Audience Score")}},{key:"_attributeScoretype",value:function(e){this._renderBandedRatingCountText(this.bandedratingcount,e)}},{key:"_attributeValue",value:function(e){this.dom.elScoreIconAudience.setAttribute("percentage",e)}},{key:"_renderBandedRatingCountText",value:function(e,t){return"tvseries"===this.mediatype?this.select(".stars-wrap").classList.add("hide"):e&&t?"verified"===t.toLowerCase()?this.dom.elRatingCount.innerHTML="".concat(e," Verified Ratings"):this.dom.elRatingCount.innerHTML="".concat(e," Ratings"):this.dom.elRatingCount.innerHTML="N/A"}},{key:"_setStarRating",value:function(e){isNaN(e)||this.dom.elStarRating.setAttribute("averagestars",e)}}],[{key:"observedAttributes",get:function(){return["averagerating","bandedratingcount","isempty","hidden","mediatype","scoretype","state","value"]}}]),n}());window.customElements.get("score-details-audience")||window.customElements.define("score-details-audience",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      font-family: var(--fontFranklinGothic);\n      font-size: 0.875rem;\n    }\n    :host([hidden]) { display: none; }\n\n    .wrap { margin-bottom: 20px; }\n    .wrap p { margin: 0; color: var(--grayDark1, #505257); }\n\n    .title-wrap { display: flex; align-items: center; }\n    .title {\n      margin: 0 5px 0 0;\n      text-transform: uppercase;\n      font-size: 1.25rem;\n    }\n\n    ::slotted(filter-chip:first-child) { margin-right: 10px; }\n\n    score-icon-critic-deprecated { margin-bottom: 5px; }\n\n    .chart-wrap > p,\n    .chart-wrap > bar-chart { margin-bottom: 5px; }\n    .average-rating { font-size: 1rem; }\n\n    @media (min-width: 768px) {\n      .wrap:last-child { margin-bottom: 0; }\n\n      .score-details-critics { width: 350px; }\n    }\n  ",'</style>\n\n    <div class="score-details-critics">\n      <div class="wrap title-wrap">\n        <h3 class="title" data-qa="score-details-tomatometer-title">Tomatometer</h3>\n        <slot name="tooltip"></slot>\n      </div>\n      \n      <div class="empty" hidden>\n        <p>Tomatometer not yet available.</p>\n      </div>\n\n      <div class="info">\n        <div class="wrap button-wrap">\n          <slot name="btn-all-critics"></slot>\n          <slot name="btn-top-critics"></slot>\n        </div>\n\n        <div class="wrap score-wrap">\n          <score-icon-critic-deprecated\n            state=""\n            percentage=""\n            size="medium"\n            alignment="left"\n            data-qa="critic-score-container"\n          ></score-icon-critic-deprecated>\n          <p class="rating-count" data-qa="rating-count"></p>\n        </div>\n\n        <div class="wrap chart-wrap" data-qa="score-detail-breakdown">\n          <p data-qa="avg-rating-txt"><strong class="average-rating" data-qa="avg-rating-score"></p>\n          <bar-chart class="liked" label="Fresh" data-qa="bar-chart-fresh"></bar-chart>\n          <bar-chart class="not-liked" label="Rotten" data-qa="bar-chart-rotten"></bar-chart>\n        </div>\n      \n      </div>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked","isempty"]),e.dom={elAverageRating:e.select(".average-rating"),elEmpty:e.select(".empty"),elInfo:e.select(".info"),elLikedBarChart:e.select(".liked"),elNotLikedBarChart:e.select(".not-liked"),elRatingCount:e.select(".rating-count"),elScoreWrap:e.select(".score-wrap"),elScoreIconCritic:e.select("score-icon-critic-deprecated")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initSlotted()}},{key:"template",value:function(){return i}},{key:"_attributeAveragerating",value:function(e){if("tvseries"!==this.mediatype&&"tvepisode"!==this.mediatype)return this.dom.elAverageRating.innerHTML=e?"".concat(e," out of 10"):"N/A"}},{key:"_attributeIsempty",value:function(e){e&&(this.dom.elInfo.setAttribute("hidden","true"),this.dom.elEmpty.removeAttribute("hidden"))}},{key:"_attributeLikedcount",value:function(e){if("tvseries"===this.mediatype||"tvepisode"===this.mediatype)return this.dom.elLikedBarChart.hidden=!0;var t=this.getAttribute("ratingcount");(e||t)&&this._setLikedChartData(e,t)}},{key:"_attributeMediatype",value:function(e){"tvseries"!==e&&"tvepisode"!==e||(this.select(".title").innerText="Avg Tomatometer")}},{key:"_attributeNotlikedcount",value:function(e){if("tvseries"===this.mediatype||"tvepisode"===this.mediatype)return this.dom.elNotLikedBarChart.hidden=!0;var t=this.getAttribute("ratingcount");(e||t)&&this._setNotLikedChartData(e,t)}},{key:"_attributeRatingcount",value:function(e){var t,n,i,o;"tvseries"!==this.mediatype&&"tvepisode"!==this.mediatype&&(t=this.getAttribute("likedcount"),n=this.getAttribute("notlikedcount"),i=this.getAttribute("ratingcount"),o=this.getAttribute("scoretype"),t&&e&&this._setLikedChartData(t,e),t&&e&&this._setNotLikedChartData(n,e),this._renderRatingCount(i,o))}},{key:"_attributeValue",value:function(e){this.dom.elScoreIconCritic.setAttribute("percentage",e)}},{key:"_attributeState",value:function(e){this.dom.elScoreIconCritic.setAttribute("state",e)}},{key:"_renderRatingCount",value:function(e,t){var n=parseInt(e);return e&&n?(e=1<n,t="topcritics"===t.toLowerCase()?e?"Top Critic Reviews":"Top Critic Review":e?"Reviews":"Review",this.dom.elRatingCount.innerHTML="".concat(n," ").concat(t)):this.dom.elRatingCount.innerHTML="N/A"}},{key:"_setLikedChartData",value:function(e,t){this.dom.elLikedBarChart.setAttribute("totalcount",t),this.dom.elLikedBarChart.setAttribute("count",e)}},{key:"_setNotLikedChartData",value:function(e,t){this.dom.elNotLikedBarChart.setAttribute("totalcount",t),this.dom.elNotLikedBarChart.setAttribute("count",e)}}],[{key:"observedAttributes",get:function(){return["averagerating","hidden","isempty","likedcount","mediatype","notlikedcount","ratingcount","scoretype","state","value"]}}]),n}());window.customElements.get("score-details-critics")||window.customElements.define("score-details-critics",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var t=window.Manager,e=function(){_inherits(o,t);var e,n=_createSuper(o);function o(){var e,t;return _classCallCheck(this,o),(t=n.call(this)).enforceActions=!0,t.traceName="ScoreDetailsManager",t.json=t.domJson(),t.modalData=null==(e=t.json)||null==(e=e.scoreDetails)?void 0:e[0].modal,Object.keys(t.modalData||{}).length?(t.state={hasAudienceComponent:!1,hasFilterAudienceAll:!1,hasFilterAudienceVerified:!1,hasFilterCriticsAll:!1,hasFilterCriticsTop:!1,whichAudienceFilterActive:"",whichCriticsFilterActive:""},t):_possibleConstructorReturn(t,t.logError(new Error("No score details available")))}return _createClass(o,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_get(_getPrototypeOf(o.prototype),"connectedCallback",this).call(this),this.dom=_objectSpread({},this.domElements()),this.domActions(),n=function(e){var t=e.hasAudienceScoreVerified,e=e.hasAudienceScoreAll;return t?"VERIFIED AUDIENCE":e?"ALL AUDIENCE":""},i=function(e){return e.hasTomatometerScoreAll?"ALL CRITICS":""},this.setState({action:"initialize",hasAudienceComponent:Boolean(null==(t=this.dom.scoreDetailsAudience)?void 0:t[0]),hasFilterAudienceAll:Boolean(null==(t=this.dom.filterAudienceAll)?void 0:t[0]),hasFilterAudienceVerified:Boolean(null==(t=this.dom.filterAudienceVerified)?void 0:t[0]),hasFilterCriticsAll:Boolean(null==(t=this.dom.filterCriticsAll)?void 0:t[0]),hasFilterCriticsTop:Boolean(null==(t=this.dom.filterCriticsTop)?void 0:t[0]),whichAudienceFilterActive:n(this.modalData),whichCriticsFilterActive:i(this.modalData)});case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"stateUpdated",value:function(){switch(this.state.action){case"filterUpdate":this._updateAudienceFilterChip(),this._updateCriticsFilterChip(),this._dtmFilterUpdate();break;case"initialize":this._renderScoreDetails(this.modalData);break;case"onBtnOverlayCloseClick":return void this._onCloseClicked();case"onFilterCriticsAllClicked":case"onFilterCriticsTopClicked":case"onFilterAudienceVerifiedClicked":case"onFilterAudienceAllClicked":this._onFilterChipClicked(this.state.domEvent);break;case"onScoreboardScoreClick":return void this._onScoreClicked(this.state.domEvent)}}},{key:"_dtmFilterUpdate",value:function(){var e={"VERIFIED AUDIENCE":"Verified","ALL AUDIENCE":"All"}[this.state.whichAudienceFilterActive],t={"ALL CRITICS":"All","TOP CRITICS":"Top"}[this.state.whichCriticsFilterActive];window.dataLayer.push({event:"scorecard modal load",modalDetails:"rt | scorecard modal | TM: ".concat(t," | Audience: ").concat(e)})}},{key:"_dtmScoreboardClick",value:function(e){window.dataLayer.push({event:"generic click",genericClickDetails:"".concat(e.toLowerCase()," scorecard click")})}},{key:"_hideFilterChips",value:function(){var e;return[null==(e=this.dom.filterCriticsAll)?void 0:e[0],null==(e=this.dom.filterCriticsTop)?void 0:e[0],null==(e=this.dom.filterAudienceAll)?void 0:e[0],null==(e=this.dom.filterAudienceVerified)?void 0:e[0]].forEach(function(e){return e&&(e.hidden=!0)})}},{key:"_onCloseClicked",value:function(){var e;null!=(e=this.dom.overlay)&&e[0].close()}},{key:"_onFilterChipClicked",value:function(e){var e=e.detail.label,t="VERIFIED AUDIENCE"===e||"ALL AUDIENCE"===e?e:this.state.whichAudienceFilterActive,e="ALL CRITICS"===e||"TOP CRITICS"===e?e:this.state.whichCriticsFilterActive;this.setState({action:"filterUpdate",whichAudienceFilterActive:t,whichCriticsFilterActive:e})}},{key:"_onScoreClicked",value:function(e){var t,e=e.detail.scoreType;null!=(t=this.dom.overlay)&&t[0].open(),this._dtmScoreboardClick(e),this._dtmFilterUpdate()}},{key:"_renderAudienceData",value:function(e){var t=e.audienceScoreAll,n=e.audienceScoreVerified,i=e.hasAudienceScoreVerified,e=e.hasAudienceScoreAll;i?this._setScoreDetailsAudienceAttributes(n):e?this._setScoreDetailsAudienceAttributes(t):this._setScoreDetailsAudienceAttributes(null)}},{key:"_renderCriticsData",value:function(e){var t=e.hasTomatometerScoreTop,n=e.hasTomatometerScoreAll,i=e.tomatometerScoreAll,e=e.tomatometerScoreTop;n?this._setScoreDetailsCriticsAttributes(i):t?this._setScoreDetailsCriticsAttributes(e):this._setScoreDetailsCriticsAttributes(null)}},{key:"_renderFilterChips",value:function(e){var t=this.state.hasAudienceComponent,n=e.hasTomatometerScoreAll,i=e.hasTomatometerScoreTop,o=e.hasAudienceScoreVerified,e=e.hasAudienceScoreAll;n&&(this._setCriticsFilterChipActive("all"),i?(this.state.hasFilterCriticsTop&&(this.dom.filterCriticsTop[0].hidden=!1),this.state.hasFilterCriticsAll&&(this.dom.filterCriticsAll[0].hidden=!1)):(this.state.hasFilterCriticsTop&&(this.dom.filterCriticsTop[0].hidden=!0),this.state.hasFilterCriticsAll&&(this.dom.filterCriticsAll[0].hidden=!0))),t&&e&&(this._setAudienceFilterChipActive("all"),o?(this._setAudienceFilterChipActive("verified"),this.state.hasFilterAudienceVerified&&(this.dom.filterAudienceVerified[0].hidden=!1),this.state.hasFilterAudienceAll&&(this.dom.filterAudienceAll[0].hidden=!1)):(this.state.hasFilterAudienceVerified&&(this.dom.filterAudienceVerified[0].hidden=!0),this.state.hasFilterAudienceAll&&(this.dom.filterAudienceAll[0].hidden=!0)))}},{key:"_renderScoreDetails",value:function(e){var t=this.state.hasAudienceComponent;this._hideFilterChips(),this._renderFilterChips(e),this._renderCriticsData(e),t&&(this._renderAudienceData(e),this._renderAudienceTooltip(e))}},{key:"_renderAudienceTooltip",value:function(e){var t=e.hasAudienceScoreVerified,e=e.scoreDetailDescription;t&&(document.querySelector("tool-tip[audience]").description=encodeURIComponent('\n          <p class="title" data-qa="tool-tip-title">Verified Audience Score</p>\n          <p class="description" data-qa="tool-tip-text">'.concat(e.verifiedAudienceScoreMsg,'</p>\n          <p class="title" data-qa="tool-tip-title">All Audience Score</p>\n          <p class="description" data-qa="tool-tip-text">').concat(e.allAudienceScoreMsg,"</p>\n        ")))}},{key:"_setAudienceFilterChipActive",value:function(e){var t=this.state,n=t.hasFilterAudienceAll,t=t.hasFilterAudienceVerified;this.dom.scoreDetailsAudience[0].setAttribute("scoretype",e),"verified"===e?(t&&(this.dom.filterAudienceVerified[0].active=!0),n&&(this.dom.filterAudienceAll[0].active=!1)):(n&&(this.dom.filterAudienceAll[0].active=!0),t&&(this.dom.filterAudienceVerified[0].active=!1))}},{key:"_setCriticsFilterChipActive",value:function(e){var t=this.state,n=t.hasFilterCriticsAll,t=t.hasFilterCriticsTop;this.dom.scoreDetailsCritics[0].setAttribute("scoretype",e),"topcritics"===e?(t&&(this.dom.filterCriticsTop[0].active=!0),n&&(this.dom.filterCriticsAll[0].active=!1)):(n&&(this.dom.filterCriticsAll[0].active=!0),t&&(this.dom.filterCriticsTop[0].active=!1))}},{key:"_setScoreDetailsAudienceAttributes",value:function(e){var t,n,i;if(!e||Object.keys(e).length<1)return null==(t=this.dom.scoreDetailsAudience)?void 0:t[0].setAttribute("isempty","true");for(n in e)null!=(i=this.dom.scoreDetailsAudience)&&i[0].setAttribute("".concat(n.toLowerCase()),e[n])}},{key:"_setScoreDetailsCriticsAttributes",value:function(e){var t,n,i;if(!e||Object.keys(e).length<1)return null==(t=this.dom.scoreDetailsCritics)?void 0:t[0].setAttribute("isempty","true");for(n in e)null!=(i=this.dom.scoreDetailsCritics)&&i[0].setAttribute("".concat(n.toLowerCase()),e[n])}},{key:"_updateAudienceFilterChip",value:function(){switch(this.state.whichAudienceFilterActive){case"VERIFIED AUDIENCE":this._setAudienceFilterChipActive("verified"),this._setScoreDetailsAudienceAttributes(this.modalData.audienceScoreVerified);break;case"ALL AUDIENCE":this._setAudienceFilterChipActive("all"),this._setScoreDetailsAudienceAttributes(this.modalData.audienceScoreAll)}}},{key:"_updateCriticsFilterChip",value:function(){switch(this.state.whichCriticsFilterActive){case"ALL CRITICS":this._setCriticsFilterChipActive("all"),this._setScoreDetailsCriticsAttributes(this.modalData.tomatometerScoreAll);break;case"TOP CRITICS":this._setCriticsFilterChipActive("topcritics"),this._setScoreDetailsCriticsAttributes(this.modalData.tomatometerScoreTop)}}}]),o}();window.customElements.get("score-details-manager")||window.customElements.define("score-details-manager",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat("\n    :host { display: inline-block; }\n    :host([hidden]), .hide { display: none; }\n\n    .wrap { display: flex; }\n\n    score-icon-critic-deprecated,\n    score-icon-audience-deprecated {\n      color: inherit;\n    }\n\n    score-icon-critic-deprecated { margin-right: 0.875em; }\n  ",'</style>\n    <div class="wrap">\n      <score-icon-critic-deprecated></score-icon-critic-deprecated>\n      <score-icon-audience-deprecated></score-icon-audience-deprecated>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","criticscertified"]),e.dom={elAudience:e.select("score-icon-audience-deprecated"),elCritic:e.select("score-icon-critic-deprecated")},e}return _createClass(n,[{key:"template",value:function(){return i}},{key:"_attributeAudiencescore",value:function(){var e=this.dom.elAudience;e&&(e.percentage=this.audiencescore)}},{key:"_attributeAudiencesentiment",value:function(){var e=this.dom.elAudience;e&&!this._detectHide(e,"audiencesentiment")&&(e.state={positive:"upright",negative:"spilled"}[this.audiencesentiment.toLowerCase()])}},{key:"_attributeCriticscertified",value:function(){this._updateCriticsState()}},{key:"_attributeCriticsscore",value:function(){var e=this.dom.elCritic;e&&(e.percentage=this.criticsscore)}},{key:"_attributeCriticssentiment",value:function(){this._updateCriticsState()}},{key:"_detectHide",value:function(e,t){if(e.classList.remove("hide"),"hide"===this[t])return e.classList.add("hide"),!0}},{key:"_updateCriticsState",value:function(){var e=this.dom.elCritic;if(e&&!this._detectHide(e,"criticssentiment"))return this.criticscertified?e.state="certified_fresh":void(e.state={positive:"fresh",negative:"rotten"}[this.criticssentiment.toLowerCase()])}}],[{key:"observedAttributes",get:function(){return["audiencesentiment","audiencescore","criticssentiment","criticscertified","criticsscore","hidden"]}}]),n}());window.customElements.get("score-pairs-deprecated")||window.customElements.define("score-pairs-deprecated",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=window.Component,o=document.createElement("template"),e=(o.innerHTML="<slot></slot>",function(){_inherits(n,i);var e,t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initBool(["disable"]),e.next=3,this.elementsDefined("tiles-carousel-responsive");case 3:this.attachEvent(this,"click",this._onCarouselClick.bind(this));case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_attributeDisable",value:function(){this.detachAllEvents(),this.disable||this.attachEvent(this,"click",this._onCarouselClick.bind(this))}},{key:"_getClickDetails",value:function(e){var t=e.dataset.track,t={poster:this._getPosterClickDetails,scores:this._getScoresClickDetails,showmore:function(e){return"cta click | ".concat(e.innerText)},sponsor:function(e){return"sponsor logo | ".concat(e.dataset.title)}}[t];return t?t(e):""}},{key:"_getPosterClickDetails",value:function(e){var e=e.dataset,t=e.videoId,n=e.position,i=e.mediaId,o=e.title,e=e.contentType,t=t?"poster video start":"".concat(e," poster");return"".concat(t," | ").concat(n," | ").concat(i," | ").concat(o)}},{key:"_getScoresClickDetails",value:function(e){var e=e.parentElement.querySelector('[data-track="poster"]').dataset,t=e.position,n=e.mediaId,i=e.title,e=e.contentType;return"".concat(e," title | ").concat(t," | ").concat(n," | ").concat(i)}},{key:"_onCarouselClick",value:function(e){window.dataLayer&&(e=null==(e=e.path)?void 0:e.find(function(e){return null==(e=e.dataset)?void 0:e.track}))&&window.dataLayer.push({event:"sponsored hero click",clickDetails:"sponsored hero | ".concat(this._getClickDetails(e))})}}],[{key:"observedAttributes",get:function(){return["disable"]}}]),n}());window.customElements.get("sponsored-carousel-tracker")||window.customElements.define("sponsored-carousel-tracker",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-size: 0.875rem;\n    }\n    :host([hidden]), .hide { display: none; }\n    :host([averagestars="0"]) rt-icon { fill: var(--grayLight2, #E9E9EA); }\n\n    .star-rating { display: flex; align-items: center; }\n    .stars{ height: 14px; margin-right: 10px; }\n    rt-icon { fill: var(--yellow, #FFB600); }\n    rt-icon.checked ~ * { fill: var(--grayLight2, #E9E9EA); }\n\n    p { margin: 0; color: var(--grayDark1, #505257); }\n    .average-stars { font-size: 1rem; }\n  ','</style>\n\n    <div class="star-rating">\n      <div class="stars">\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n      </div>\n      <p data-qa="avg-rating-txt"><strong class="average-stars" data-qa="avg-rating-score">N/A</strong> average rating</p>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked"]),e.dom={elAverageStars:e.select(".average-stars"),elStars:e.selectAll("rt-icon")},e}return _createClass(n,[{key:"template",value:function(){return i}},{key:"_attributeAveragestars",value:function(e){if(isNaN(e)||5<e||e<0)return this.averagestars=0;var t=this._getRoundedStarValue(e);this._resetStars(),this._renderStars(t),this._renderLabel(e)}},{key:"_getRoundedStarValue",value:function(e){e=parseFloat(e);return e<=0?0:e<1?.5:Number.isInteger(e)?e:Math.floor(2*e)/2}},{key:"_renderLabel",value:function(e){return this.dom.elAverageStars.innerHTML=e?"".concat(e," out of 5"):"N/A"}},{key:"_renderStars",value:function(e){var t=void 0,t=0===e||.5===e||1===e?0:1.5===e||2===e?1:2.5===e||3===e?2:3.5===e||4===e?3:4;if(isNaN(t))return this._resetStars();t=this.dom.elStars[t];Number.isInteger(e)||t.setAttribute("icon","star-half"),t.classList.add("checked")}},{key:"_resetStars",value:function(){this.dom.elStars.forEach(function(e){e.setAttribute("icon","star"),e.classList.remove("checked")})}}],[{key:"observedAttributes",get:function(){return["hidden","averagestars"]}}]),n}());window.customElements.get("star-rating")||window.customElements.define("star-rating",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window,i=e.Component,o=(e.__RT__,{SPACE:32,ENTER:13}),r=document.createElement("template"),e=(r.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      width: 100%;\n      height: 40px;\n      border-radius: 20px;\n      box-shadow: 0 2px 3px 0 rgba(42, 44, 50, 0.08), 0 -2px 3px 0 rgba(42, 44, 50, 0.06), 0 2px 10px 0 rgba(0, 0, 0, 0.26);\n      background-color: var(--white, #FFFFFF);\n      padding: 0 16px;\n    }\n\n    :host([hidden]) { display: none; }\n\n    .sticky-footer {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-wrap: wrap;\n      width: 100%;\n      height: 100%;\n    }\n\n    .sticky-footer:focus { outline: none; }\n\n    .sticky-footer .watch-now-text {\n      margin-right: 7px;\n      font-family: var(--fontFranklinGothic);\n      font-weight: 500;\n      font-size: 0.938rem;\n      letter-spacing: 0;\n      line-height: 1.2;\n      color: var(--grayDark2, #2A2C32);\n    }\n\n    rt-icon {\n      fill: var(--grayDark2, #2A2C32);\n    }\n\n    affiliate-icon {\n      height: calc(100% - 5px);\n      width: auto;\n    }\n    affiliate-icon[icon="peacock"] { height: calc(100% - 8px); }\n    affiliate-icon[icon="amc-plus-us"] { height: calc(100% - 10px); }\n    affiliate-icon[icon="apple-tv-plus-us"] { height: calc(100% - 12px); }\n    affiliate-icon[icon="amazon-prime-video-us-sidebyside"] { width: 58px; }\n    affiliate-icon[icon="hulu"] { width: 50px; }\n\n    @media(min-width: 768px) {\n      :host { display: none; }\n    }\n  ','</style>\n\n    <div class="sticky-footer">\n      <span class="watch-now-text">Watch Now on</span>\n      <affiliate-icon></affiliate-icon>\n      <rt-icon hidden image icon="options"></rt-icon>\n    </div>\n  '),function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.initBool(["hidden"]),e.dom={elFooter:document.querySelector(".footer"),elLink:e.parentElement,elStickyFooter:e.select(".sticky-footer"),elWatchNowText:e.select(".watch-now-text"),wcAffiliateIcon:e.select("affiliate-icon"),wcRtIcon:e.select("rt-icon")},e.hasAttribute("tabindex")||e.setAttribute("tabindex",-1),e}return _createClass(n,[{key:"template",value:function(){return r}},{key:"connectedCallback",value:function(){this.attachEvents([{el:this.dom.elLink,eventType:"click",fn:this._onClick},{el:this.dom.elLink,eventType:"keydown",fn:this._onKeydown}]),this._createObserverForFooter(),this.ready(),this._analyticsEvent("load")}},{key:"_analyticsEvent",value:function(e){e&&this.dom.wcAffiliateIcon&&("load"===e&&window.dataLayer.push({event:"sticky footer impressions",whereToWatchDestination:"sticky-footer-".concat(this.track)}),"click"===e)&&window.dataLayer.push({event:"where to watch clicks",whereToWatchDestination:"sticky-footer-".concat(this.track)})}},{key:"_attributeBottom",value:function(){var e=this.bottom;e&&(this.dom.elLink.style.bottom=e,this.dom.elLink.style.WebkitTransition="all 0.15s ease-in-out",this.dom.elLink.style.MozTransition="all 0.15s ease-in-out")}},{key:"_attributeIcon",value:function(){var e=this.icon&&"none"!==this.icon;this.dom.wcAffiliateIcon.icon=e?this.icon:"",this.dom.wcAffiliateIcon.hidden=!e,this.dom.wcRtIcon.hidden=e}},{key:"_attributeDescription",value:function(){this.dom.elWatchNowText.innerHTML=this.description||"Watch Now on"}},{key:"_handleDispatchEvent",value:function(){var e;this.dom.elLink&&(e=this.affiliate,this._analyticsEvent("click"),this.dispatchEvent(new CustomEvent("clicked",{detail:{affiliate:e}})))}},{key:"_createObserverForFooter",value:function(){var t=this;this._footerObserver=new IntersectionObserver(function(e){e=_slicedToArray(e,1)[0];t.bottom=e.isIntersecting?"".concat(t.dom.elFooter.offsetHeight+30,"px"):"100px"},{threshold:.8}),this._footerObserver.observe(this.dom.elFooter)}},{key:"_onClick",value:function(){this._handleDispatchEvent()}},{key:"_onKeydown",value:function(e){Object.values(o).includes(e.keyCode)&&this.dom.elLink&&this.dom.elLink.click()}}],[{key:"observedAttributes",get:function(){return["bottom","description","icon","hidden","track"]}}]),n}());window.customElements.get("sticky-footer")||window.customElements.define("sticky-footer",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML="\n    <style>".concat('\n    :host {\n      --rtIconCtaVideoTop: calc(50% - 25px);\n      --rtIconCtaVideoLeft: calc(50% - 25px);\n      --rtIconCtaVideoWidth: 50px;\n      --rtIconCtaVideoHeight: 50px;\n\n      display: inline-block;\n      width: inherit;\n      height: inherit;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .image-orientation {\n      position: relative;\n      width: 100%;\n      padding-top: var(--tile-dynamic-portrait-ratio, 143.34%);\n      overflow: hidden;\n    }\n    :host([orientation="landscape"]) .image-orientation {\n      padding-top: var(--tile-dynamic-landscape-ratio, 56.3%);\n    }\n    :host([orientation="none"]) .image-orientation {\n      width: inherit;\n      height: inherit;\n      padding-top: unset;\n      overflow: unset;\n      position: unset;\n    }\n    :host([orientation="none"]) .image-wrap {\n      height: inherit; \n      position: unset;\n    }\n\n    .image-wrap {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      overflow: inherit;\n      border-radius: 8px;\n    }\n    :host([isvideo]:hover) .image-wrap {\n      filter: brightness(.75);\n    }\n    :host([isactive]) .image-wrap {\n      overflow: hidden;\n      border: 3px solid var(--grayLight4, #BCBDBE);\n      transition: border .5s ease-in-out;\n    }\n    slot[name="image"]::slotted(img) {\n      object-fit: cover;\n      width: 100%;\n      height: 100%;\n    }\n    :host([isactive]) slot[name="imageInsetLabel"]::slotted(*) {\n      background-color: var(--blue, #3976dc);\n    }\n    slot[name="imageInsetLabel"]::slotted(*) {\n      position: absolute;\n      right: .625rem;\n      bottom: 0;\n      border-radius: 4px;\n      background-color: var(--grayDark2, #2a2c32);\n      padding: 0 10px !important;\n    }\n\n    .insetText-gradient {\n      background: linear-gradient(rgba(0, 0, 0, 0), rgba(23, 28, 32, 0.8));\n      background-size: 100%;\n      background-repeat: no-repeat;\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      height: 100%;\n    }\n      slot[name="insetText"]::slotted(*) {\n        width: 100%;\n        position: absolute;\n        bottom: 0;\n      }\n\n    .action-wrap {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n      cursor: pointer;\n    }\n    rt-icon-cta-video {\n      position: absolute;\n      top: var(--rtIconCtaVideoTop);\n      left: var(--rtIconCtaVideoLeft);\n      z-index: -1;\n      width: var(--rtIconCtaVideoWidth);\n      height: var(--rtIconCtaVideoHeight);\n    }\n    slot[name="imageAction"],\n    slot[name="imageAction"]::slotted(*) {\n      width: 100%;\n      height: 100%;\n    }\n\n    .caption-wrap {\n      color: var(--grayDark2, #2A2C32);\n      padding-top: calc(var(--tile-dynamic-portrait-ratio, 143.34%) * 0.02);\n    }\n    .caption-wrap:hover {\n      color: var(--blue, #3976DC);\n      cursor: pointer;\n    }\n    :host([orientation="landscape"]) .caption-wrap { calc(var(--tile-dynamic-landscape-ratio, 56.3%) * 0.02)); }\n','</style>\n\n    <div class="image-orientation">\n      <slot name="imageBanner"></slot>\n      <div class="image-wrap">\n        <slot name="image"></slot>\n        <slot name="imageInsetLabel"></slot>\n        <div class="insetText-gradient hide">\n          <slot name="insetText"></slot>\n        </div>\n      </div>\n      <div class="action-wrap hide">\n        <rt-icon-cta-video class="hide"></rt-icon-cta-video>\n        <slot name="imageAction"></slot>\n      </div>\n    </div>\n\n    <div class="caption-wrap hide">\n      <slot name="caption"></slot>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","isvideo"]),e.initSlotted(),e}return _createClass(n,[{key:"connectedCallback",value:function(){this._detectCaption(),this._detectImageAction(),this._detectImageInsetText(),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeIsvideo",value:function(){var e=this.isvideo?"remove":"add";this.select("rt-icon-cta-video").classList[e]("hide")}},{key:"_attributeSkeleton",value:function(e){if(e)return this.select(".caption-wrap").classList.add("hide");this._detectCaption()}},{key:"_detectCaption",value:function(){(this.slotted.caption||[])[0]&&this.select(".caption-wrap").classList.remove("hide")}},{key:"_detectImageAction",value:function(){(this.slotted.imageAction||[])[0]&&this.select(".action-wrap").classList.remove("hide")}},{key:"_detectImageInsetText",value:function(){(this.slotted.insetText||[])[0]&&this.select(".insetText-gradient").classList.remove("hide")}}],[{key:"observedAttributes",get:function(){return["hidden","isvideo","orientation","skeleton"]}}]),n}());window.customElements.get("tile-dynamic")||window.customElements.define("tile-dynamic",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template"),t=(i.innerHTML='\n    <style>\n      :host {\n        display: flex;\n        position: relative;\n        width: 100%;\n        --scroll-button-y: 110px;\n      }\n\n      :host([hiderightarrow]) button.scroll-right { display: none; }\n\n      ::slotted(.posters-container) {\n        display: flex;\n        overflow-x: scroll;\n        overflow-y: hidden;     \n      }\n\n      button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 39px;\n        height: 39px;\n        border-radius: 50%;\n        border: none;\n        position: absolute;\n        box-shadow: 1px 4px 10px 0 rgba(42, 44, 50, 0.16);\n        background-color: #FFFFFF;\n        cursor: pointer;\n      }\n      button:hover g {\n        fill: #2A62C0;\n      }\n\n      button[disabled] g,\n      button[disabled]:hover g {\n        fill: #E3E3E6;\n      }\n\n      button {\n        display:none\n      }\n\n      button[hidden] {\n        display: none;\n      }\n      \n      button[disabled]:hover {\n        cursor:default;\n      }\n\n      .scroll-left {\n        transform: translate(-12px, var(--scroll-button-y, 110px)\n        );\n      }\n\n      .scroll-right {\n        right: 0;\n        transform: translate(12px, var(--scroll-button-y, 110px));\n      }\n\n      ::slotted(rt-icon) {\n        fill: #757A84;\n      }\n\n      ::slotted(rt-icon:hover) {\n        fill: #2A62C0;\n      }\n\n      ::slotted(rt-icon[icon="left-chevron"]) {\n        margin-right: 2px !important;\n      }\n\n      ::slotted(rt-icon[icon="right-chevron"]) {\n        margin-left: 2px !important;\n      }\n\n      @media(min-width: 768px) {\n        ::slotted(.posters-container) {\n          overflow: hidden;\n        }\n\n        button {\n          display: flex;\n          z-index: 1;\n        }\n      }\n\n    </style>\n\n    <button class="scroll-left" @click="onLeftClick" hidden>\n      <slot name="icon-arrow-left"></slot>\n    </button>\n    <slot name="posters-container"></slot>\n    <button class="scroll-right" @click="onRightClick">\n      <slot name="icon-arrow-right"></slot>\n    </button>\n  ',function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._animateOffset=e._animateOffset.bind(_assertThisInitialized(e)),e.animationDuration=500,e.elTileContainerBoundingRect=null,e}return _createClass(n,[{key:"hiderightarrow",get:function(){return this.getAttribute("hiderightarrow")},set:function(e){e?this.setAttribute("hiderightarrow",Boolean(e)):this.removeAttribute("hiderightarrow")}},{key:"template",value:function(){return i}},{key:"connectedCallback",value:function(){var e=this;Array.from(this.selectAll("slot")).forEach(function(e){return e.assignedNodes()[0].removeAttribute("hidden")}),this.elTileContainer=this.select("slot[name=posters-container]").assignedNodes()[0],this.elsTiles=this.elTileContainer.children,this.elTileContainer.addEventListener("scroll",function(){return e._detectScrollDist()},!1),this._adjustRightArrowVisibility(),this._detectScrollDist()}},{key:"_adjustRightArrowVisibility",value:function(){var t=this,e=document.body.clientWidth<=768;if(!e){e=function(){var e=t.getBoundingClientRect().width,e=t.elTileContainer.scrollWidth<=e;e!==t.hiderightarrow&&(t.hiderightarrow=e)};if(this.hiderightarrow=!0,e(),"undefined"==typeof ResizeObserver)return setTimeout(e,500);new ResizeObserver(e).observe(this.elTileContainer)}}},{key:"onRightClick",value:function(){this.elTileContainerBoundingRect||(this.elTileContainerBoundingRect=this.elTileContainer.getBoundingClientRect());for(var e=0;e<this.elsTiles.length;e++)if(this.elsTiles[e].getBoundingClientRect().right>this.elTileContainerBoundingRect.right){this.select("button.scroll-left").removeAttribute("hidden");var t=this.elTileContainer.scrollLeft,n=this.elsTiles[e].offsetLeft;this._animateOffset(this.elTileContainer,t,n,this.animationDuration),this.elTileContainer.scrollWidth-this.elsTiles[e].offsetLeft<this.elTileContainer.clientWidth&&this.select("button.scroll-right").setAttribute("hidden","true");break}}},{key:"onLeftClick",value:function(){for(var e=this.elsTiles.length-1;0<=e;e--){var t=this.elsTiles[e].getBoundingClientRect();if(t.left<this.elTileContainerBoundingRect.left){this.select("button.scroll-right").removeAttribute("hidden");var n=this.elTileContainer.scrollLeft,t=t.width,t=this.elsTiles[e].offsetLeft+t-this.elTileContainerBoundingRect.width;t<=0&&this.select("button.scroll-left").setAttribute("hidden","true"),this._animateOffset(this.elTileContainer,n,t,this.animationDuration);break}}}},{key:"_animateOffset",value:function(n,i,o,r){var a=!1,s=null;requestAnimationFrame(function e(t){a||(r<=t-(s=null===s?t:s)&&(a=!0),t=i+(o-i)*(t=(t-s)/r,(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)),n.scrollLeft=t,requestAnimationFrame(e))})}},{key:"_detectScrollDist",value:function(){var e,t;document.body.clientWidth<=768&&(e=document.body.clientWidth,e=130*this.elsTiles.length+10*(this.elsTiles.length-1)-e,(t=this.elTileContainer.scrollLeft)<=0&&(this.elTileContainer.style.marginLeft="0px",this.elTileContainer.style.marginRight="-15px",this.elTileContainer.style.width="calc(100% + 15px)"),0<t&&t<e&&(this.elTileContainer.style.marginLeft="-15px",this.elTileContainer.style.marginRight="-15px",this.elTileContainer.style.width="calc(100% + 30px)"),0<t)&&t===e&&(this.elTileContainer.style.marginLeft="-15px",this.elTileContainer.style.marginRight="0px",this.elTileContainer.style.width="calc(100% + 15px)")}}]),n}());window.customElements.get("tiles-carousel")||window.customElements.define("tiles-carousel",t)}(),function(){var o=window.Component,r=document.createElement("template"),e=(r.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      position: relative;\n\n      --tile-distance-mobile: 10px;\n\n      --tile-margin: 0px;\n      --tile-width: 130px;\n      --carousel-x: 0px;\n      --scroll-btn-width-desktop: 0px;\n      --indicators-margin: 4px;\n      --indicators-size: 14px;\n    }\n\n    :host([hidden]),\n    #scroll-left[hidden],\n    #scroll-right[hidden] {\n      display: none !important;\n    }\n\n    :host([showmobilebtns]) #scroll-left,\n    :host([showmobilebtns]) #scroll-right {\n      display: flex;\n    }\n\n    :host([showmobilebtns]) #tiles-container {\n      transition: transform 0.5s ease-in-out;\n      transform: translateX(var(--carousel-x));\n      overflow: visible;\n    }\n\n    .overflow-wrap {\n      overflow: hidden;\n    }\n    :host(.scrollx) .overflow-wrap {\n      overflow-x: auto;\n      padding-bottom: 2px;\n    }\n\n    #tiles-container {\n      display: flex;\n      position: relative;\n      overflow-x: auto;\n      overflow-y: hidden;\n    }\n\n    #indicators-container {\n      display: none;\n    }\n\n    #scroll-left,\n    #scroll-right {\n      z-index: 1;\n      width: 32px;\n      display: none;\n      align-items: center;\n      position: absolute;\n      top: 0;\n      height: 100%;\n      background: var(--scroll-btn-background);\n      transition: background 0.1s ease;\n    }\n\n    #scroll-right {\n      right: 0;\n      justify-content: flex-end;\n    }\n\n    @media (min-width: 768px) {\n      :host {\n        --tile-width: 180px;\n      }\n\n      :host([showindicators]) #indicators-container {\n        position: absolute;\n        right: calc(var(--indicators-margin) * -1);\n        display: block;\n        text-align: right;\n        padding: 0;\n        width: 100%;\n        top: -24px;\n        bottom: auto;\n        .indicator {\n          border-radius: 50%;\n          background: #ccc;\n          height: var(--indicators-size);\n          width: var(--indicators-size);\n          margin: 0 var(--indicators-margin);\n        }\n        .active {\n          background: var(--red, #FA320A);\n        }\n      }\n\n      #tiles-container {\n        transition: transform 0.5s ease-in-out;\n        transform: translateX(var(--carousel-x));\n        overflow: visible;\n      }\n\n      #scroll-left,\n      #scroll-right {\n        display: flex;\n      }\n\n    }\n  ",'</style>\n    <div id="indicators-container" data-qa="photo-carousel-dots"></div>\n    <div id="scroll-left" part="scroll-left">\n      <slot name="scroll-left"></slot>\n    </div>\n    <div class="overflow-wrap">\n      <div id="tiles-container">\n        <slot name="tile"></slot>\n      </div>\n    </div>\n    <div id="scroll-right" part="scroll-right">\n      <slot name="scroll-right"></slot>\n    </div>\n  '),function(){_inherits(i,o);var e,t,n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.call(this)).initBool(["hidden","fitcontent","showmobilebtns","showindicators"]),e.initSlotted(),e.dom={elScrollLeft:e.select("#scroll-left"),elScrollRight:e.select("#scroll-right"),elTilesContainer:e.select("#tiles-container"),elIndicatorsContainer:e.select("#indicators-container"),get wcFirstShowing(){return this.slotted.tile.find(function(e){return e.classList.contains("first-showing")})},get wcLastShowing(){return this.slotted.tile.find(function(e){return e.classList.contains("last-showing")})}},e.SCROLL_BTN_WIDTH=32,e}return _createClass(i,[{key:"connectedCallback",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitChildrenCustomElementsDefined();case 2:if(this.slotted.tile[0].classList.add("tile-first"),this.slotted.tile[this.slotted.tile.length-1].classList.add("tile-last"),this.attachEvent(this,"click",this._onScrollClick.bind(this)),"undefined"==typeof ResizeObserver)return this.ready(),this._adjustCarousel(),e.abrupt("return");e.next=9;break;case 9:this.resizeObserver=new ResizeObserver(this._adjustCarousel.bind(this)),this.resizeObserver.observe(this),this.ready();case 12:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(i.prototype),"disconnectedCallback",this).call(this),this.resizeObserver.unobserve(this)}},{key:"template",value:function(){return r}},{key:"_adjustCarousel",value:function(){if(this.isReady){if(this._reset(),!this.showmobilebtns&&this._isMobile)return this._adjustMobileCarousel();this._adjustDesktopCarousel()}}},{key:"_adjustDesktopCarousel",value:function(){this._updateArrowsVisibility(),this._toggleVisibleTiles(),this._updateIndicators()}},{key:"_adjustMobileCarousel",value:function(){this.style.setProperty("--tile-margin","calc(var(--tile-distance-mobile) / 2)");var e=Number(this.lowerthreshold)||.25,t=Number(this.upperthreshold)||.75,n=this.dom.elTilesContainer.offsetWidth,i=this.slotted.tile.findIndex(function(e){return e.offsetLeft+e.offsetWidth>=n}),o=(i<0&&(i=this.slotted.tile.length-1),(n-this.slotted.tile[i].offsetLeft)/this.slotted.tile[i].offsetWidth);e<=o&&o<=t||o<e&&i--}},{key:"_attributeFitcontent",value:function(){this._adjustCarousel()}},{key:"_attributeLowerthreshold",value:function(){this._adjustCarousel()}},{key:"_attributeShowindicators",value:function(){this._adjustCarousel()}},{key:"_attributeUpperthreshold",value:function(){this._adjustCarousel()}},{key:"_getScrollDistanceDesktop",value:function(e){var t=this,n=this._scrollX;return this.showindicators?Math.min(this._maxScroll,this.scrollDistancePerSection*this.currentSection):e?(e=(this.slotted.tile.find(function(e){return e.offsetWidth+e.offsetLeft>n+t._paneWidth})||{}).offsetLeft-this.SCROLL_BTN_WIDTH*Number(this.fitcontent),Math.min(this._maxScroll,e||n+this._paneWidth)):(e=_toConsumableArray(this.slotted.tile).reverse().find(function(e){return e.offsetLeft<n})||{},e=n+this._paneWidth-(e.offsetLeft+e.offsetWidth)+this.SCROLL_BTN_WIDTH*Number(this.fitcontent),Math.max(0,n-(e||this._paneWidth)))}},{key:"_doTransition",value:function(e){this._toggleVisibleTiles(e),this.style.setProperty("--carousel-x","-".concat(e,"px")),this._updateArrowsVisibility()}},{key:"_isElementInViewport",value:function(e,t){return e.offsetLeft>t&&e.offsetLeft+e.offsetWidth<t+this.dom.elTilesContainer.offsetWidth}},{key:"_isElementVisible",value:function(e,t){return!this.fitcontent||this._isElementInViewport(e,t)}},{key:"_maxScroll",get:function(){return this.dom.elTilesContainer.scrollWidth-this.offsetWidth+this.SCROLL_BTN_WIDTH*Number(this.fitcontent)}},{key:"_onSectionChange",value:function(e){e=parseInt(e.target.getAttribute("data-indicator-index"));e<0||e>=this.sectionsCount||(this.currentSection=e,this._doTransition(Math.min(this._maxScroll,this.scrollDistancePerSection*this.currentSection)),this._updateActiveIndicator())}},{key:"_onScrollClick",value:function(e){var t=this,e=e.composedPath().find(function(e){return[t.dom.elScrollLeft,t.dom.elScrollRight].includes(e)});if(e){e=e===this.dom.elScrollRight;if(e){if(this.currentSection===this.sectionsCount-1)return;this.currentSection++}else{if(0===this.currentSection)return;this.currentSection--}this._doTransition(this._getScrollDistanceDesktop(e)),this._updateActiveIndicator()}}},{key:"_paneWidth",get:function(){return this.offsetWidth-2*this.SCROLL_BTN_WIDTH*Number(this.fitcontent)}},{key:"_reset",value:function(){this.style.setProperty("--scroll-btn-width-desktop","0px"),this.style.setProperty("--tile-width",null),this.style.setProperty("--tile-margin","0px")}},{key:"_scrollX",get:function(){return Math.abs(parseInt(getComputedStyle(this).getPropertyValue("--carousel-x")))}},{key:"_toggleVisibleTiles",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._scrollX;this.slotted.tile.forEach(function(e){return e.classList[t._isElementVisible(e,n)?"add":"remove"]("visible")})}},{key:"_updateActiveIndicator",value:function(){var e;this.showindicators&&(null!=(e=this.dom.elIndicatorsContainer.querySelector(".indicator.active"))&&e.classList.remove("active"),null!=(e=this.dom.elIndicatorsContainer.querySelector('.indicator[data-indicator-index="'.concat(this.currentSection,'"]'))))&&e.classList.add("active")}},{key:"_updateArrowsVisibility",value:function(){var e=this._scrollX;this.dom.elScrollLeft.hidden=0===e,this.dom.elScrollRight.hidden=this.dom.elTilesContainer.scrollWidth<=this.offsetWidth||e===this._maxScroll}},{key:"_updateIndicators",value:function(){var t=this,e=this.dom.elTilesContainer.scrollWidth,n=this.slotted.tile.find(function(e){return e.offsetWidth+e.offsetLeft>scrollX+t._paneWidth})||{};if(this.scrollDistancePerSection=n.offsetLeft-this.SCROLL_BTN_WIDTH*Number(this.fitcontent),this.currentSection=0,this.sectionsCount=Math.ceil(e/this.scrollDistancePerSection),this.dom.elIndicatorsContainer.innerHTML="",!(this.sectionsCount<=1)&&this.showindicators)for(var i=0;i<this.sectionsCount;i++){var o=document.createElement("rt-button");o.classList.add("indicator"),0===i&&o.classList.add("active"),o.setAttribute("theme","transparent"),o.setAttribute("data-indicator-index",i),o.addEventListener("click",function(e){return t._onSectionChange(e)}),this.dom.elIndicatorsContainer.appendChild(o)}}},{key:"_waitChildrenCustomElementsDefined",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=_toConsumableArray(new Set(Array.from(this.querySelectorAll("*")).map(function(e){return e.localName}))),e.next=4,Promise.all(t.map(function(e){return customElements.get(e)?customElements.whenDefined(e):Promise.resolve()}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(){return e.apply(this,arguments)})}],[{key:"observedAttributes",get:function(){return["hidden","fitcontent","lowerthreshold","showindicators","showmobilebtns","upperthreshold"]}}]),i}());window.customElements.get("tiles-carousel-responsive")||window.customElements.define("tiles-carousel-responsive",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var n=window.Component,i=document.createElement("template"),e=(i.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      flex-shrink: 0;\n      margin: 0 var(--tile-margin);\n      min-width: var(--tile-width);\n    }\n\n    :host(.tile-first) {\n      margin-left: 0;\n    }\n\n    :host(.tile-last) {\n      margin-right: 0;\n    }\n\n    :host([hidden]) { display: none; }\n\n    @media (min-width: 768px) {\n      :host {\n        display: flex;\n        flex-direction: column;\n        margin: 0 0 0 var(--tile-margin);\n        flex-basis: var(--tile-width);\n        opacity: 0;\n        visibility: hidden;\n        transition: opacity 0.1s ease-in 0.4s, visibility 0s ease-in 0.5s;\n      }\n\n      :host(.visible) {\n        opacity: 1;\n        visibility: visible;\n        transition-delay: 0ms;\n        transition-duration: 0.1s;\n      }\n\n      :host(.tile-first) {\n        margin-left: var(--scroll-btn-width-desktop, 32px);\n      }\n  \n      :host(.tile-last) {\n        margin-right: var(--scroll-btn-width-desktop, 32px);\n      }\n    }\n  ","</style>\n    <slot></slot>\n  "),function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),t}());window.customElements.get("tiles-carousel-responsive-item")||window.customElements.define("tiles-carousel-responsive-item",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=document.createElement("template"),e=(o.innerHTML="\n    <style>".concat("\n    :host {\n      background: var(--black, #000000);\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n    }\n    .video-overlay-header {\n      display: flex;\n      justify-content: flex-start;\n      width: 100%;\n    }\n    .video-overlay-content {\n      width: 100%;\n      height: 56vw;\n    }\n    .video-overlay-footer {\n      display: flex;\n      width: 100%;\n      justify-content: center;\n      margin-bottom: 48px;\n    }\n\n    @media(min-width: 768px) {\n      :host { \n        width: 1000px;\n        height: 563px;\n      }\n      .video-overlay-header { \n        position: absolute;\n        justify-content: flex-end;\n        z-index: 1;\n      }\n      .video-overlay-content {\n        height: 100%;\n      }\n      .video-overlay-footer { \n        display: none;\n      }\n    }\n  ",'</style>\n    <div class="video-overlay-header">\n      <slot name="header"></slot>\n    </div>\n    <div class="video-overlay-content">\n      <slot name="content"></slot>\n    </div>\n    <div class="video-overlay-footer">\n      <slot name="footer"></slot>\n    </div>\n  '),function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.dom={elOverlayBase:e.parentElement,elCTA:Array.from(e.querySelectorAll(".cta-btn"))},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.attachEvents([{el:this.dom.elOverlayBase,eventType:"open",fn:this._onOverlayBaseOpen},{el:window,eventType:"resize",fn:this._onWindowResize}]),this.ready();case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_onOverlayBaseOpen",value:function(){this._renderCta()}},{key:"_onWindowResize",value:function(){this.dom.elOverlayBase.hidden||(this.dom.elCTA.forEach(function(e){return e.classList.add("hide")}),this._renderCta())}},{key:"_renderCta",value:function(){var e,t,n,i=document.querySelector("jw-player-manager").getPlaylist()[0].overviewPageUrl;i&&i!==window.location.pathname&&(e=i.includes("/tv/")?"See show details":"See movie details",t=this._isMobile?"footer-cta":"header-cta",(n=this.dom.elCTA.filter(function(e){return e.classList.contains(t)})[0]).href=i,n.textContent=e,n.classList.remove("hide"))}}],[{key:"observedAttributes",get:function(){return["bounding"]}}]),n}());window.customElements.get("video-player-overlay")||window.customElements.define("video-player-overlay",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Manager,o=window.__RT__.fetcher,e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).traceName="VideoPlayerOverlayManager",e.enforceActions=!0,e.state={action:"constructor",data:{},disableAds:!1,domEventCount:0,domEvent:{},errors:[],isJwPlayerReady:!1},e.json=e.domJson(),e.PLAYER_ID="video-overlay-player",e._fetchVideoInfo=e._fetchVideoInfo.bind(_assertThisInitialized(e)),e}return _createClass(n,[{key:"connectedCallback",value:function(){_get(_getPrototypeOf(n.prototype),"connectedCallback",this).call(this),this.dom=_objectSpread({doc:document},this.domElements()),this.domActions(["doc:refreshVideos"])}},{key:"stateUpdated",value:function(){switch(this.state.action){case"fetchVideoInfoSuccess":this.setState({action:"initJwPlayer"});break;case"fetchVideoInfoFail":this.logError();break;case"initializedJwPlayer":this.dom.overlayBase[0].open();break;case"initJwPlayer":var e=this.state.disableAds,t=this.PLAYER_ID,n=this.state.data.videos;this.dom.jwPlayerManager[0].initJwPlayer({disableAds:e,playerId:t,videos:n});break;case"onBtnHeroVideoClick":this.dispatch({nextState:this._fetchVideoInfo,nextAction:{success:"fetchVideoInfoSuccess",fail:"fetchVideoInfoFail"}});break;case"onBtnVideoClick":this.state.disableAds="true"===(null==(e=this.state.domEvent)||null==(e=e.currentTarget)||null==(e=e.dataset)?void 0:e.disableAds),null!=(t=document.querySelector("ads-video-spotlight"))&&t.isloaded&&this.dom.jwPlayerManager[0].removePlayer(),this.dispatch({nextState:this._fetchVideoInfo,nextAction:{success:"fetchVideoInfoSuccess",fail:"fetchVideoInfoFail"}});break;case"onBtnOverlayCloseClick":this.setState({action:"onOverlayBaseClose"});break;case"onJwPlayerManagerReady":if(this.state.domEvent.detail.playerId!==this.PLAYER_ID)return;this._slotJwPlayer(),this.setState({action:"initializedJwPlayer",isJwPlayerReady:!0});break;case"onJwPlayerManagerRelatedClose":this._toggleHeader(!1);break;case"onJwPlayerManagerRelatedOpen":this._toggleHeader(!0);break;case"onOverlayBaseClose":this.dom.overlayBase[0].close(),this.setState({action:"resetOverlay",isJwPlayerReady:!1});break;case"onDocRefreshVideos":this.detachAllEvents(),this.dom=_objectSpread({doc:document},this.domElements()),this.domActions(["doc:refreshVideos"])}}},{key:"_fetchVideoInfo",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.domEvent.currentTarget.dataset,i=n.emsId,t=n.publicId,n=n.type,e.next=3,o.fetchJson("/napi/videos?".concat(new URLSearchParams({emsId:i,publicId:t,type:n})));case 3:return i=e.sent,e.abrupt("return",{data:{videos:null==i?void 0:i.videos}});case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_slotJwPlayer",value:function(){var e,t=document.querySelector("video-player-overlay");t&&((e=document.querySelector(".jwplayer")).setAttribute("slot","content"),t.appendChild(e))}},{key:"_toggleHeader",value:function(e){document.querySelector('video-player-overlay div[slot="header"]')&&(document.querySelector('video-player-overlay div[slot="header"]').hidden=e)}}]),n}();window.customElements.get("video-player-overlay-manager")||window.customElements.define("video-player-overlay-manager",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i={SPACE:32,ENTER:13},o=document.createElement("template"),t=(o.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      width: 70px;\n      height: 70px;\n\n      --bubbleActiveBackgroundColor: var(--grayLight2, #E9E9EA);\n      --bubbleActiveBorderColor: var(--blue, #005FCC);\n      --bubbleDefaultBackgroundColor: var(--white, #FFFFFF);\n      --bubbleDefaultBorderColor: var(--grayLight4, #BCBDBE);\n      --bubbleSelectedBorderColor: var(--grayDark2, #2A2C32);\n    }\n\n    :host([hidden]) { display: none; }\n\n    :host([imagewithtext]) img {\n      margin-bottom: 2px;\n    }\n\n    .bubble {\n      display: flex;\n      flex-direction: column;\n      border-radius: 50%;\n      border: solid 1px var(--bubbleDefaultBorderColor);\n      background-color: var(--bubbleDefaultBackgroundColor);\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      width: inherit;\n      height: inherit;\n      box-sizing: border-box;\n      padding: 16px;\n    }\n\n    :host([image="disney-plus-us"]) .bubble,\n    :host([image="apple-tv-plus-us"]) .bubble,\n    :host([image="netflix"]) .bubble,\n    :host([image="max-us"]) .bubble,\n    :host([image="vudu"]) .bubble { padding: 11px; }\n    :host([image="hbo-max"]) .bubble,\n    :host([image="peacock"]) .bubble,\n    :host([image="showtime"]) .bubble { padding: 9px; }\n    :host([image="paramount-plus-us"]) .bubble { padding: 7px; }\n    :host([image="intheaters"]) .bubble { padding: 20px; }\n    :host([image="amc-plus-us"]) .bubble { padding: 14px; }\n    :host(:not([image])) .bubble { padding: 0px; }\n\n    .bubble.active {\n      border: 1px solid var(--bubbleSelectedBorderColor);\n      background-color: var(--bubbleActiveBackgroundColor);\n    }\n\n    @media (hover: hover) and (pointer: fine) {\n      .bubble:hover,\n      .bubble:hover.active {\n        border: 1px solid var(--bubbleActiveBorderColor);\n        background-color: var(--bubbleActiveBackgroundColor);\n      }\n    }\n  ','</style>\n    <div class="bubble" tabindex="-1">\n      <affiliate-icon tabindex="-1" hidden></affiliate-icon>\n    </div>\n  '),function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.initBool(["hidden","active","imagewithtext"]),e.hasAttribute("tabindex")||e.setAttribute("tabindex",0),e.dom={elBubble:e.select(".bubble"),wcAffiliateIcon:e.select("affiliate-icon")},e}return _createClass(n,[{key:"template",value:function(){return o}},{key:"connectedCallback",value:function(){this.attachEvents([{el:this,eventType:"click",fn:this._onClick},{el:this,eventType:"keydown",fn:this._onKeydown}]),this._render(),this.ready()}},{key:"_attributeImage",value:function(){this._render()}},{key:"_attributeActive",value:function(){this.active?this.dom.elBubble.classList.add("active"):this.dom.elBubble.classList.remove("active")}},{key:"_dispatchEvent",value:function(){var e=this.value,t=this.active;e&&this.dispatchEvent(new CustomEvent("dtmRegister",{detail:{name:t?"unset":"set",value:e,eventOrigin:"button",filter:"affiliates"}})),this.dispatchEvent(new CustomEvent("clicked",{detail:{value:e}}))}},{key:"_getTextElement",value:function(){return document.createElement("slot")}},{key:"_onClick",value:function(e){this._dispatchEvent()}},{key:"_onKeydown",value:function(e){Object.values(i).includes(e.keyCode)&&this._dispatchEvent()}},{key:"_render",value:function(){if(this.dom.wcAffiliateIcon.hidden=!this.image,!this.image)return this.dom.elBubble.appendChild(this._getTextElement());this.dom.wcAffiliateIcon.icon=this.image,this.imagewithtext&&this.dom.elBubble.appendChild(this._getTextElement())}}],[{key:"observedAttributes",get:function(){return["hidden","image","active","value","imagewithtext"]}}]),n}());window.customElements.get("where-to-watch-bubble")||window.customElements.define("where-to-watch-bubble",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window,i=e.dataLayer,o=e.Component,r=document.createElement("template"),e=(r.innerHTML="\n    <style>".concat('\n    :host {\n      display: inline-block;\n      width: fit-content;\n      height: fit-content;\n      font-size: 1rem;\n\n      --licenseColor: var(--blue, #3976DC);\n      --licenseHoverColor: var(--blueHover, #2A62C0);\n      --coverageColor: var(--grayDark1, #505257);\n    }\n    :host([hidden]), .hide { display: none; }\n\n    a {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      text-decoration: none;\n      font-size: inherit;\n    }\n\n    slot[name="license"],\n    slot[name="coverage"] { text-align: center; text-decoration: none; }\n\n    slot[name="license"] { font-size: 0.875rem; color: var(--licenseColor); }\n    slot[name="license"]:hover { color: var(--licenseHoverColor); }\n\n    slot[name="coverage"] { font-size: 0.75rem; color: var(--coverageColor); }\n\n    slot[name="license"]::slotted(span),\n    slot[name="coverage"]::slotted(span) { margin-top: 5px; }\n  ','</style>\n    <a class="link" href="#" target="_blank" rel="noopener">\n      <slot name="bubble"></slot>\n      <slot name="license"></slot>\n      <slot name="coverage"></slot>\n    </a>\n  '),function(){_inherits(n,o);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elAnchor:e.select(".link")},e.attachEvent(e.dom.elAnchor,"click",e._onClick),e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initBool(["hidden"]),this.initSlotted(),e.next=4,this.elementsDefined();case 4:this.ready();case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_trackAffiliateClick",value:function(e){i&&i.push({event:"where to watch clicks",whereToWatchDestination:e})}},{key:"_onClick",value:function(){this._trackAffiliateClick(this.affiliate)}},{key:"template",value:function(){return r}},{key:"_attributeHref",value:function(e){if(!e)return"#";this.dom.elAnchor.href=e}},{key:"_attributeIssponsoredlink",value:function(e){"true"===e&&(this.dom.elAnchor.rel="sponsored noopener")}}],[{key:"observedAttributes",get:function(){return["affiliate","hidden","href","issponsoredlink"]}}]),n}());window.customElements.get("where-to-watch-meta")||window.customElements.define("where-to-watch-meta",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var a=1e4,t={CREATE_WTS:"createWTS",DELETE_WTS:"deleteWTS",CREATE_RATING:"createRating",GET_WTS:"getWTS",GET_RATING:"getRating"},n={POST:"POST",GET:"GET"},s={INVALID_DATA:"Invalid data",INVALID_MEDIA_TYPE:"Invalid mediaType",INVALID_API_NAME:"Invalid api name"};function i(e,i){if("object"===!_typeof(i)||null===i)return Promise.reject(new Error(s.INVALID_DATA));if("movie"!==i.mediaType&&"tv"!==i.mediaType)return Promise.reject(new Error(s.INVALID_MEDIA_TYPE));var o,r;switch(e){case t.CREATE_WTS:r=RottenTomatoes.link.commonUserWTSCreateNapi(),o=n.POST;break;case t.DELETE_WTS:r=RottenTomatoes.link.commonUserWTSDeleteNapi(),o=n.POST;break;case t.CREATE_RATING:r=RottenTomatoes.link.commonUserRatingCreateNapi(),o=n.POST;break;case t.GET_WTS:r=RottenTomatoes.link.commonUserGetWTSNapi(),o=n.GET;break;case t.GET_RATING:r=RottenTomatoes.link.commonUserGetRatingNapi(),o=n.GET;break;default:return Promise.reject(new Error(s.INVALID_API_NAME))}return new Promise(function(t,n){RottenTomatoes.xhr.ajax({type:o,url:r,timeout:a,dataType:"json",data:i}).done(function(e){t(e)}).fail(function(e){n(e)})})}RottenTomatoes.rating={createWTS:function(e){return i(t.CREATE_WTS,e)},deleteWTS:function(e){return i(t.DELETE_WTS,e)},getWTS:function(e){return i(t.GET_WTS,e)},getRating:function(e){return i(t.GET_RATING,e)},updateRating:function(e){return i(t.CREATE_RATING,e)},EVENT_NAMES:{RATING:{FAIL_RATING_POST:"User rating post failed",RATING_POSTED:"User rating was posted",RATING_MODAL_CLOSED:"User closed the rating modal",REVIEW_SUBMISSION_STARTED:"Review submission started"}}}}(),function(){var n,i={TOOLTIP:{OPEN:"rt tooltip open",CLOSE:"rt tooltip close"}},o={RT_TOOLTIP:".js-rt-tooltip",RT_TOOLTIP_CLOSE_BTN:".js-tooltip-close-btn"},r={TOMATOMETER:"tomatometer",AUDIENCE_SCORE:"audience-score"},e=150,a=window.matchMedia("only screen and (max-width: 760px)").matches;function t(e){if((!0!==e.data("desktop-only")||!a)&&(n=!0,0===$(o.RT_TOOLTIP).length)){var t;switch(e.data("help-content")){case r.AUDIENCE_SCORE:t=nunjucks.render("_audienceScore",{scoreDetailDescription:RottenTomatoes.context.scoreDetailDescription,canVerifyRatings:RottenTomatoes.scoreDetailModel.getViewModel.canVerifyRatings,hasAudienceScore:!!RottenTomatoes.scoreDetailModel.getViewModel.audienceScoreAll.state,mediaType:RottenTomatoes.scoreDetailModel.getViewModel.mediaType});break;case r.TOMATOMETER:t=nunjucks.render("_tomatometer",{scoreDetailDescription:RottenTomatoes.context.scoreDetailDescription})}e.append(t).focus().on("focusout",function(){s()}),$(o.RT_TOOLTIP_CLOSE_BTN).on("click",function(){s()}),e.data("placement")&&$(o.RT_TOOLTIP).css(e.data("placement"),"0"),$(o.RT_TOOLTIP).on("click touch",function(){RottenTomatoes.eventQ.emit(n?i.TOOLTIP.OPEN:i.TOOLTIP.CLOSE,n)})}}function s(){setTimeout(function(){$(o.RT_TOOLTIP).remove(),n=!1},e)}RottenTomatoes.tooltip={EVENT_NAMES:i,initToolTip:function(e){n=!1,e.off().on("click touch",function(){n||t(e)})}}}(),RottenTomatoes.util={arrayUnique:function(n){return n.filter(function(e,t){return n.indexOf(e)>=t})},debounce:function(n,i,o,r){var a;return n&&Number(n)?function(){var e=this,t=arguments;clearTimeout(a),a=setTimeout(function(){r.apply(e,[i,o,t])},n)}:null},capitalize:function(e){return"string"!=typeof e?"":e.length<=1?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},kFormatter:function(e){return 999<e?(Math.abs(e)/1e3).toFixed(1)+"k":e}},function(){var e={CAST_REMAINING:".castRemaining",MORE_CAST_AND_CREW:".moreCasts",SHOW_MORE_CAST:"#showMoreCast",SHOW_MORE_CAST_AND_CREW:"#showMoreCastAndCrew"},t=!1;function n(){(t=!t)?($(e.MORE_CAST_AND_CREW).removeClass("hide"),$(e.SHOW_MORE_CAST_AND_CREW).html("Hide Cast & Crew")):($(e.MORE_CAST_AND_CREW).addClass("hide"),$(e.SHOW_MORE_CAST_AND_CREW).html('Show all Cast & Crew <span class="caret"></span>'))}function i(){$(e.CAST_REMAINING).removeClass("castRemaining"),$(e.SHOW_MORE_CAST).hide()}$(e.SHOW_MORE_CAST).click(i),$(e.SHOW_MORE_CAST_AND_CREW).click(n)}(),function(){var o,e,r={CRITIC_FILTER_LINK:".js-critics-filter-link",DROPDOWN_TRIGGER:".js-rt-dropdown-trigger",POST_REVIEW_FEEDBACK:".js-rating_textbox-submit-status",RATING_MODAL:"#rating_widget_modal",RATING_MODAL_BTN:".js-rating_modal-btn",RATING_MODAL_CLOSE_BTN:".js-rating__modal-closeBtn",RATING_MODAL_FOOTER:".rating-modal-footer",RATING_MODAL_OPEN_BTN:".js-user-rating-mobile__review-modal-button",RATING_MODAL_TITLE:".login-modal-title",RATING_MODAL_STAR_MEANINGS:".js-rating__widget-modal--star-meanings",RATING_STARS:".js-rating-stars",RATING_STARS_MOBILE_WRAP:".js-user-rating-mobile__stars-wrap",RATING_STAR:".js-rating-star",RATING_WIDGET:".rating_widget_mobile-star",RATING_WIDGET_REVIEW_DESCRIPTION:".js-user-rating-mobile__add-review-text",RATINGS_WRAP:".js-mop-ratings-wrap",REVIEW_TEXT_AREA:".js-rating_textbox-textarea",SUBMIT_BUTTON:".js-rating_textbox-submit-btn",USER_THUMBNAIL:".js-rating-widget-user-thumb",WANT_TO_SEE_BTN:".js-rating-wts-btn",WANT_TO_SEE_RATINGS_GROUP:".js-wts-ratings-group",USER_INFO_DESKTOP:".js-user-media-rating__user-info",USER_INFO_MOBILE:".js-user-rating-mobile__header",USER_RATING_REVIEW_COMMENT:".js-user-rating-mobile__comment",USER_RATING_WTS:".user-rating-mobile__wts",EDIT_BTN_VISIBILITY:".js-edit-review-btn-visibility",TICKET_VENODR_DROPDOWN_OPTION:".js-ticket-vendor_dropdown-option",TICKET_VENDOR_LEGAL_TEXT:".js-vas_legal-text",SUPER_REVIEWER:".js-super-reviewer"},i=185,t=null,a="",s=null,n={FANDANGO:{NAME:"Fandango",VALUE:"FANDANGO"}},l={Fandango:"FANDANGO"},c={mediaType:RottenTomatoes.context.ratingMediaInfo.mediaType,mediaId:RottenTomatoes.context.ratingMediaInfo.mediaId,userInfo:null,userRating:null,wtsSelected:!1},d={HIDE:"hide",RATE_AND_REVIEW_MODAL_HIDDEN:"rate-and-review--hidden",SUPER_REVIEWER_HIDDEN:"super-reviewer-badge--hidden",star:{FILLED:"star-display__filled",HALF:"star-display__half",EMPTY:"star-display__empty",MOBILE_STAR:"star-display__mobile-half",STATIC_STAR:"star-display__static-half"},starDisplays:{DESKTOP:"star-display__desktop",MOBILE:"star-display__mobile"},wts:{SELECTED:"button--wts-selected",PRE_RELEASE:"wts--preRelease",POST_RELEASE:"wts--postRelease"}};function u(e){e.removeClass(Object.values(d.star).join(" "))}function h(n){$(r.RATING_STAR).each(function(){var e=parseFloat($(this).data("rating-value")),t=$(this).parent();u(t),e=e<n?d.star.FILLED:d.star.EMPTY,t.addClass(e)})}function m(i){i=parseFloat(i),$(r.RATING_STAR).each(function(){var e,t=parseFloat($(this).data("rating-value")),n=$(this).parent();(n.hasClass(d.starDisplays.DESKTOP)||n.hasClass(d.starDisplays.MOBILE))&&(u(n),$('[data-rating-value="'+i+'"]').parent().addClass(Number.isInteger(i)?d.star.FILLED:d.star.HALF),n.hasClass(Object.values(d.star).join(" "))||(e=t<i?d.star.FILLED:d.star.EMPTY),n.addClass(e))})}function v(e){var t;m(e.initialScore),t=e.initialReview,$(r.REVIEW_TEXT_AREA).val(t||""),t=e.initialScore,e="",0!==t&&(e=(t=$('.star-display__mobile-half[data-rating-value="'+t+'"]')).data("rating-value")+" stars: "+t.data("title")),$(r.RATING_MODAL_STAR_MEANINGS).html(e),$(r.RATING_MODAL).modal(d.HIDE)}function f(e){t.html(e).show().fadeOut(2500)}function p(){var e=$(r.WANT_TO_SEE_BTN),t=$(r.RATING_MODAL_MBL_BTN);c.userRating&&c.userRating.score&&"-"!==c.userRating.score?(s&&0!==s.initialScore&&(e.addClass(d.HIDE),t.addClass(d.HIDE)),RottenTomatoes.context&&RottenTomatoes.context.seasonId&&$(r.RATING_WIDGET).removeClass(d.HIDE)):(t.removeClass(d.HIDE),RottenTomatoes.context&&RottenTomatoes.context.seasonId&&$(r.RATING_WIDGET).addClass(d.HIDE))}function _(){var e=$(r.WANT_TO_SEE_BTN);c.wtsSelected?e.addClass(d.wts.SELECTED):e.removeClass(d.wts.SELECTED),c.userRating&&c.userRating.score&&(e.addClass(d.HIDE),$(r.USER_RATING_WTS).addClass(d.HIDE),s)&&0!==s.initialScore&&$(r.EDIT_BTN_VISIBILITY).removeClass(d.HIDE)}function T(){var e=$(r.RATING_STARS);if(c.userRating&&c.userRating.score&&($(r.USER_RATING_WTS).addClass(d.HIDE),s)&&0!==s.initialScore&&$(r.EDIT_BTN_VISIBILITY).removeClass(d.HIDE),c.userRating){switch(c.userRating.score){case"+":break;case void 0:case null:e.find(r.RATING_STAR).removeClass("score");break;default:var t=Number.parseFloat?Number.parseFloat(c.userRating.score,10):Number(c.userRating.score);t&&(e.find(r.RATING_STAR).removeClass("score"),e.find('[data-rating-value="'+t+'"]').addClass("score"),m(c.userRating.score))}c.userRating.score&&($(r.RATING_STARS_MOBILE_WRAP).removeClass("text-center").addClass("review-present"),$(r.RATING_WIDGET_REVIEW_DESCRIPTION).addClass("hide"),$(r.RATING_MODAL_OPEN_BTN).addClass("hide"),e.removeClass("hide"))}else e.find(r.RATING_STAR).removeClass("score")}function E(){var e,t,n=$(r.REVIEW_TEXT_AREA);c.userRating&&((e=c.userRating.review)&&(n.val(!(n=c.userRating.review)||((t=document.createElement("div")).innerHTML=n,0===t.childNodes.length)?null:t.childNodes[0].nodeValue),e.length>i)&&(e=c.userRating.review.substr(0,i).trim()+"..."),$(r.USER_RATING_REVIEW_COMMENT).html(e))}function g(){var e=$(r.USER_THUMBNAIL),t=c.userInfo?c.userInfo.thumbnailUrl:"",n=c.userInfo?c.userInfo.profileUrl:"";t&&(a=$(r.USER_THUMBNAIL).attr("src")),$(r.USER_THUMBNAIL).attr("src",t||a),e.parent().attr("href",n)}function R(){RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.FAIL_RATING_POST,{})}function w(t,n,i){if(o&&o.hasProfanity(n))return window.alert("Your review does not meet our community guidelines. Please edit out any offensive language and try again.");if(!function(e){if(!e)return;return RottenTomatoes.context.popcornMeterState,1}(t))return f("Please choose a rating first.");RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.REVIEW_SUBMISSION_STARTED);var e={mediaId:c.mediaId,mediaType:c.mediaType,displayName:c.userInfo?(c.userInfo.firstName||"")+" "+(c.userInfo.lastName&&c.userInfo.lastName.slice(0,1)||""):"",isSuperReviewer:c.userInfo&&c.userInfo.isSuperReviewer,score:t,reviewText:n,partnerId:l[i]};RottenTomatoes.rating.updateRating(e).then(function(e){c.userRating=e,c.userRating.partnerText=i,s={initialScore:e.score||0,initialReview:e.review||""},"tv"===c.mediaType&&f("Review posted."),T(),E(),p(),RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,c.userRating);e={movie:"Movie",tv:"TvSeason"}[c.mediaType],e={emsId:c.mediaId,mediaType:e,review:n,score:t};return document.dispatchEvent(new CustomEvent("userActivity",{detail:{action:"ratingCreate",payload:e}})),null}).catch(R)}function y(){var e;e={mediaId:c.mediaId,mediaType:c.mediaType},(c.wtsSelected?RottenTomatoes.rating.deleteWTS(e).then(function(){c.wtsSelected=!1,_(),p();var e={movie:"Movie",tv:"TvSeason"}[c.mediaType],e={emsId:c.mediaId,mediaType:e};document.dispatchEvent(new CustomEvent("userActivity",{detail:{action:"watchlistDelete",payload:e}}))}):RottenTomatoes.rating.createWTS(e).then(function(){c.wtsSelected=!0,_(),p();var e={movie:"Movie",tv:"TvSeason"}[c.mediaType],e={emsId:c.mediaId,mediaType:e};document.dispatchEvent(new CustomEvent("userActivity",{detail:{action:"watchlistCreate",payload:e}}))})).catch(R)}function I(e){$(this).hasClass(d.star.MOBILE_STAR)||(c.userRating.score=$(e.target).data("ratingValue"),T(),p())}function A(){$(r.RATING_MODAL).modal("show")}function b(e){var t=$(r.REVIEW_TEXT_AREA).first().val(),e=("desktop"===(e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.buttonType)?$(r.DROPDOWN_TRIGGER):$(r.DROPDOWN_TRIGGER).eq(1)).attr("value");w(c.userRating.score,t,e)}function C(e){$(r.WANT_TO_SEE_BTN)[e]("click touch",y),$(r.RATING_STAR)[e]("click touch",I),$(r.RATING_MODAL_BTN)[e]("click touch",A),$(r.USER_RATING_REVIEW_COMMENT)[e]("click touch",A),$(r.SUBMIT_BUTTON)[e]("click touch",b)}function S(e){f("We couldn't retrieve the rating.")}function k(){c.userRating&&c.userRating.isVerified&&($(r.DROPDOWN_TRIGGER).text(n.FANDANGO.NAME),$(r.DROPDOWN_TRIGGER).attr("value",n.FANDANGO.VALUE))}function L(){return _(),T(),E(),p(),C("on"),null}function N(e){c.userInfo?Object.assign(c.userInfo||{},e):c.userInfo=e,$(r.USER_INFO_MOBILE).removeClass(d.HIDE),$(r.USER_INFO_DESKTOP).removeClass(d.HIDE),c.userInfo&&g();var t={mediaId:c.mediaId,mediaType:c.mediaType};RottenTomatoes.rating.getWTS(t).then(function(e){return c.wtsSelected=!!e&&e.wtsSelected,RottenTomatoes.rating.getRating(t)}).then(function(e){e.isSuperReviewer&&$(r.SUPER_REVIEWER).removeClass(d.SUPER_REVIEWER_HIDDEN),c.userRating=e;var t,e=(s={initialScore:e.score||0,initialReview:e.review||""}).initialScore;e&&(t=$('.js-modal-star-rating[data-rating-value="'+e+'"]').data("title"),$(r.RATING_MODAL_STAR_MEANINGS).html(e+" stars: "+t))}).then(L).then(k).catch(S)}function D(){x("RATING")}function M(){x("WTS")}function x(e){var t;(null==(t=document.querySelector("auth-initiate-manager").state.auth.userInfo)?void 0:t.id)||document.dispatchEvent(new CustomEvent("auth",{detail:{referer:e}}))}function P(){c.userInfo=null,c.userRating={score:0,isVerified:!1,review:null,partnerText:null},c.wtsSelected=null,s=null,$(r.USER_INFO_MOBILE).addClass(d.HIDE),$(r.USER_INFO_DESKTOP).addClass(d.HIDE),h(0),g(),_(),T(),E(),p(),C("off")}function O(e){e.initialScore===(c.userRating.score||0)&&e.initialReview===$(r.REVIEW_TEXT_AREA).val()?$(r.RATING_MODAL).modal(d.HIDE):(e=e,window.confirm("Are you sure you want to discard your review?")&&v(e))}if($(r.CRITIC_FILTER_LINK).on("click",function(){return $(".js-critics-filter-link.bold").removeClass("bold"),$(this).addClass("bold"),!1}),$(r.REVIEW_TEXT_AREA).on("click touch",D),$(r.RATING_STAR).on("click touch",D),$(r.SUBMIT_BUTTON).on("click touch",D),$(r.WANT_TO_SEE_BTN).on("click touch",M),$(r.RATING_MODAL_BTN).on("click touch",D),$(r.REVIEW_TEXT_AREA).on("keyup",function(){$(r.REVIEW_TEXT_AREA).not(this).val($(this).val())}),RottenTomatoes.context.badWordsList){try{e=JSON.parse(window.atob(RottenTomatoes.context.badWordsList))}catch(e){}var B=RottenTomatoes.profanityFilter;B&&e&&(o=(new B).loadBadWords(e))}B=RottenTomatoes.context.isPreRelease?d.wts.PRE_RELEASE:d.wts.POST_RELEASE,$(r.WANT_TO_SEE_RATINGS_GROUP).addClass(B),t=$(r.POST_REVIEW_FEEDBACK),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGIN,N),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,P),p(),$(r.RATING_STAR).on("mouseover",function(){var e,t,n,i=$(this);i.hasClass(d.star.MOBILE_STAR)||(e=i.parent(),n=i.data("side"),i=parseFloat(i.data("rating-value")),"left"===n?t=d.star.HALF:"right"===n&&(t=d.star.FILLED),h(i),u(e),e.addClass(t))}),$(r.RATING_STAR).on("mouseleave",function(){s&&m(s.initialScore)}),$(r.RATING_STAR).on("click touch",function(){var e,t=$(this);(null==(e=document.querySelector("auth-initiate-manager").state.auth.userInfo)?void 0:e.id)&&(t.hasClass(d.star.MOBILE_STAR)||t.hasClass(d.star.STATIC_STAR)?RottenTomatoes.rateAndReview.mobileInit():RottenTomatoes.rateAndReview.desktopInit(t.data("rating-value")),RTLocals.rateAndReview.ui.openRateAndReviewModal())}),$(r.TICKET_VENODR_DROPDOWN_OPTION).on("click touch",function(e){var t=$(r.TICKET_VENDOR_LEGAL_TEXT);void 0!==e.target.attributes.disabled?t.hasClass(d.HIDE)||t.addClass(d.HIDE):t.removeClass(d.HIDE)}),$(r.RATING_MODAL_CLOSE_BTN).on("click touch",function(){O(s)}),$(r.RATING_MODAL).on("click touch",function(e){e.target===e.currentTarget&&O(s)})}(),function(){var e,n={DROPDOWN_TRIGGER:".js-rt-dropdown-trigger",MODAL_STAR_RATING:".js-modal-star-rating",PRODUCT_BLOG_URL:".js-product-blog-url",RATING_WIDGET_STAR_MEANINGS:".js-rating__widget-modal--star-meanings",SATELLITE:".js-satellite",SUBMIT_MSG_WRAP:".js-review-submitted-message",SUBMIT_MSG_DRAWER:".js-rating-submission-message-drawer",SUBMIT_MSG_HEADER:".js-rating-submission-header",SUBMIT_MSG_COPY:".js-rating-submission-body",SUBMIT_TWITTER_BTN:".js-submission-drawer-twitter-link",SUBMIT_FACEBOOK_BTN:".js-submission-drawer-facebook-link",SUBMIT_MSG_REVIEW_INFO:".js-review-submitted-message__review-info",TEXTBOX:".js-rating_textbox-textarea",USER_NAME:".js-user-rating-mobile__username",REVIEW_INFO_CLOSE:".js-review-submitted-message__close-review-info"},i={HIDE:"hide"},o="",r=(e=RottenTomatoes.context.reviewSubmissionConfirmationMessages.CODE_OF_CONDUCT_NOTICE,{BOUGHT_SOMEWHERE_ELSE:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,reviewInfo:e},RATING_NON_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU},REVIEW_NON_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,reviewInfo:e},RATING_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,copy:RottenTomatoes.context.reviewSubmissionConfirmationMessages.RATING_VERIFICATION_NOTICE},REVIEW_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,copy:RottenTomatoes.context.reviewSubmissionConfirmationMessages.REVIEW_VERIFICATION_NOTICE,reviewInfo:e}});var a={boughtSomewhereElse:"BOUGHT_SOMEWHERE_ELSE",ratingNonVerified:"RATING_NON_VERIFIED",ratingVerified:"RATING_VERIFIED",reviewNonVerified:"REVIEW_NON_VERIFIED",reviewVerified:"REVIEW_VERIFIED"},s={FANDANGO:"Fandango",BOUGHT_SOMEWHERE_ELSE:"Bought at a theater or somewhere else"},l={},t=null,c=!1,d=!1;function u(e,t){var e=r[e];l.messageHeader=e.header.replace("{{name}}",o),l.messageCopy=e.copy,l.messageReviewInfo=e.reviewInfo,l.showTwitterButton=!1,l.showFacebookButton=!1,"AMC"===t&&(e=RottenTomatoes.context.movieDetails||{},t=e.movieDetailsURL?"".concat(RottenTomatoes.link.baseCanonicalUrl()).concat(e.movieDetailsURL):"",e="I watched ".concat(e.movieTitle," @AMCTheatres. Check out reviews on @RottenTomatoes. ").concat(t," #ShareAMC amctheatres.com"),l.showTwitterButton=!0,l.showFacebookButton=!0,l.twitterShareLink="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e)),l.facebookQuote=e)}function h(){l.messageHeader&&($(n.SUBMIT_MSG_HEADER).text(l.messageHeader),l.messageCopy&&$(n.SUBMIT_MSG_COPY).text(l.messageCopy),e=$(n.SUBMIT_TWITTER_BTN),l.showTwitterButton?(e.removeClass(i.HIDE),e.attr("href",l.twitterShareLink)):e.addClass(i.HIDE),e=$(n.SUBMIT_FACEBOOK_BTN),l.showFacebookButton?(e.removeClass(i.HIDE),e.on("click",function(){return window.FB.ui({method:"share",href:window.location.href,quote:l.facebookQuote})})):e.addClass(i.HIDE),RottenTomatoes.mobileDrawer.openDrawer(n.SUBMIT_MSG_DRAWER));var e,t=$(n.SUBMIT_MSG_REVIEW_INFO);l.messageReviewInfo&&0===t.text().trim().length&&($(n.SUBMIT_MSG_WRAP).removeClass("hide"),t.removeClass("hide"),t.append(l.messageReviewInfo)),0<t.text().trim().length&&($(n.SUBMIT_MSG_WRAP).removeClass("hide"),t.removeClass("hide")),$(n.REVIEW_INFO_CLOSE).on("click",function(){return t.addClass("hide"),!1}),d=!1}function m(e){d=!0,e&&e.displaySubmitMessage&&h()}function v(e){var t=e.firstName||"",e=e.lastName&&e.lastName.slice(0,1)||"";o=t,$(n.USER_NAME).text(t+" "+e)}function f(){$(n.SUBMIT_MSG_WRAP).addClass("hide")}function p(e){e.preventDefault(),window.open($(this).attr("href"))}function _(){$(n.PRODUCT_BLOG_URL).one("click",p)}function T(e){e||(RTLocals.rateAndReview.ui.disableVerificationElements(),RTLocals.rateAndReview.ui.changeSubmitBtnsToSpinners())}function E(e){e||(RTLocals.rateAndReview.ui.enableVerificationElements(),RTLocals.rateAndReview.ui.restoreSubmitBtns(),RottenTomatoes.multiPageModal.closeSubModal(),RTLocals.rateAndReview.ui.closeRateAndReviewModal(),RottenTomatoes.mobileDrawer.closeDrawer())}function g(e){var t,n;E(e&&e.isImplicitPost),n=(t=e)&&t.partnerId&&t.partnerId===s.FANDANGO,t=t&&t.score,RottenTomatoes.dtmData.verifyPurchase="",RottenTomatoes.dtmData.reviewStars=t,n&&t&&(RottenTomatoes.dtmData.verifyPurchase="1",RottenTomatoes.dtmData.verifyPurchaseType="fandango"),(n=e)?n.partnerId===s.BOUGHT_SOMEWHERE_ELSE?u(a.boughtSomewhereElse):n.partnerId||n.review?!n.partnerId&&n.review?u(a.reviewNonVerified):n.partnerId&&!n.review?u(a.ratingVerified,n.partnerId):n.partnerId&&n.review&&u(a.reviewVerified,n.partnerId):u(a.ratingNonVerified):u(a.ratingNonVerified),d&&h()}function R(e){E(e),t.html("We couldn't save the rating.").show().fadeOut(2500)}function w(e){e.preventDefault(),$(n.RATING_WIDGET_STAR_MEANINGS).html($(this).data("rating-value")+" stars: "+$(this).data("title"))}function y(){var e;c||((e=window.__RT__.analytics).capture({event:"fan review start",customerGUID:e.user.customerId,fanReviewStartType:$(this).data("fanreviewstarttype"),server:"rt"}),c=!0)}$(n.MODAL_STAR_RATING).on("click touch",w),$(n.SATELLITE).on("click",y),RottenTomatoes.eventQ.register(RottenTomatoes.tooltip.EVENT_NAMES.TOOLTIP.OPEN,_),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGIN,v),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,f),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.REVIEW_SUBMISSION_STARTED,T),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,g),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_MODAL_CLOSED,m),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.FAIL_RATING_POST,R),t=$(n.POST_REVIEW_FEEDBACK)}(),function(){var n,i,t={SUB_MODAL:".js-multi-page-modal__sub-modal",MULTI_PAGE_MODAL:".js-multi-page-modal"},o="multi-page-modal__sub-modal-overlay--open",r={ESC:27};function a(e){e=i[e];e&&e.htmlContainer&&e.actions&&(n.html($(e.htmlContainer).html()),e.actions())}function s(e){e.keyCode===r.ESC&&l()}function l(){$(t.MULTI_PAGE_MODAL+" "+t.SUB_MODAL).remove()}RottenTomatoes.multiPageModal={init:function(e,t){n=$(e),i=t,a(0)},loadPage:a,triggerSubModal:function(e){return $(t.MULTI_PAGE_MODAL).append($(e.htmlContainer).html()),$(t.SUB_MODAL).addClass(o),e.actions(),$(document).keydown(s),!1},closeSubModal:l}}(),function(){var n,e=".js-mobile-drawer-backdrop-close-btn",i={DRAWER_OPEN:"mobile-drawer--is-open",SCROLL_LOCK:"scroll-lock"},o={ESC:27};function r(){document.querySelector("body").classList.remove(i.SCROLL_LOCK),n&&document.querySelector(n).classList.remove(i.DRAWER_OPEN),n=null}function t(e){var t=document.querySelector(n),t=!!t&&t.classList.contains(i.DRAWER_OPEN);e.keyCode===o.ESC&&t&&r()}RottenTomatoes.mobileDrawer={init:function(){document.addEventListener("keyup",t),[].slice.call(document.querySelectorAll(e)).forEach(function(e){e.addEventListener("click",r),e.addEventListener("touch",r)})},closeDrawer:r,openDrawer:function(e){document.querySelector("body").classList.add(i.SCROLL_LOCK),document.querySelector(e).classList.add(i.DRAWER_OPEN),n=e}}}(),function(){var t,n,i=20,o={COMMENT_BOX:".js-textarea-with-counter-text",COUNTER_ITEM:".js-textarea-with-counter-item",CIRCLE_OVERLAY:".js-textarea-with-counter-circle-overlay"},e={CIRCLE_OVERLAY_ACTIVE:"textarea-with-counter__circle-overlay--active"},r=$(o.COMMENT_BOX);function a(){var e=$(this).val().trim();n.css({"stroke-dashoffset":100-2*e.length}),0===e.length||e.length>=i?(t.fadeOut(),RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed=!0):(t.fadeIn(),RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed=!1),RottenTomatoes.formUI.minimumCharacterCounter.textValue=e}function s(){t=$(o.COUNTER_ITEM),n=$(o.CIRCLE_OVERLAY),r.on("input change",a),r.on("focus blur",function(){n.toggleClass(e.CIRCLE_OVERLAY_ACTIVE)}),window.event.preventDefault()}function l(e){e=e||"";r.blur().html(e).val(e),RottenTomatoes.formUI.minimumCharacterCounter.textValue=e}function c(){r.trigger("change")}RottenTomatoes.formUI=Object.assign(RottenTomatoes.formUI||{},{minimumCharacterCounter:{init:function(e){(r=$(o.COMMENT_BOX)).each(function(){var e=$(this);e.before('<div class="textarea-with-counter"><svg height="20" width="20" class="js-textarea-with-counter-item textarea-with-counter__item textarea-with-counter__item--svg"><circle cx="8" cy="8" r="6" class="textarea-with-counter__circle textarea-with-counter__circle--base" /><circle cx="8" cy="8" r="6" class="js-textarea-with-counter-circle-overlay textarea-with-counter__circle textarea-with-counter__circle-overlay" /></svg><span class="js-textarea-with-counter-item textarea-with-counter__minimum-character-text textarea-with-counter__item">minimum characters</span>'+this.outerHTML+"</div>"),e.remove(),r=$(o.COMMENT_BOX),s()}),s(),l(e),c()},textValue:null,updateCounter:c,setTextValue:l,minCountCheckPassed:!0}})}(),function(t){var e,n={CLOSE_MODAL:"#verified-modal-close",LEARN_MORE_LINK:".verified-tab__tooltip--link",MOBILE_BOTTOM_NAV:"#nav-list",MOBILE_OVERLAY:".js-verified-modal-overlay",CONTAINER:"#main_container",POPOVER_LABEL:".js-verified-popover",REVIEW_TEXT:".js-review-text",VERIFIED_MODAL_MOBILE:".js-verified-modal--mobile",VERIFIED_TEXT:".js-verified-review",POPOVER_CONTAINER:".popover",POPOVER_CONTAINER_HOVER:".popover:hover"};function i(){t(n.VERIFIED_MODAL_MOBILE).removeClass("open"),t(n.MOBILE_OVERLAY).addClass("hide")}function o(e){e.preventDefault(),window.matchMedia("only screen and (max-width: 760px)").matches&&(t(n.VERIFIED_MODAL_MOBILE).addClass("open"),t(n.MOBILE_OVERLAY).removeClass("hide"))}function r(){var e=this;t(this).popover("show"),t(n.POPOVER_CONTAINER).on("mouseleave",function(){t(e).popover("hide")})}function a(){var e=this;setTimeout(function(){t(n.POPOVER_CONTAINER_HOVER).length||t(e).popover("hide")},300)}function s(){t(n.VERIFIED_TEXT).on("click",o),t(n.CLOSE_MODAL).on("click",i);var e=t(n.POPOVER_LABEL);"function"==typeof e.popover&&null!=(e=e.popover({trigger:"manual",html:!0,animation:!1,content:(e=RottenTomatoes.context.verifiedTooltip)&&e.verifiedTooltipTop?nunjucks.render("_verifiedPopover",{topText:e.verifiedTooltipTop,topLinkURL:e.verifiedTooltipTopLinkURL,topLinkText:e.verifiedTooltipTopLinkText,topLinkVisible:e.verifiedTooltipTopLinkVisible,bottomText:e.verifiedTooltipBottom,bottomLinkURL:e.verifiedTooltipBottomLinkURL,bottomLinkText:e.verifiedTooltipBottomLinkText,bottomLinkVisible:e.verifiedTooltipBottomLinkVisible,bottomVisible:e.verifiedTooltipBottomVisible}):""}))&&null!=(e=e.on("mouseenter",r))&&e.on("mouseleave",a)}(e=RottenTomatoes.context.verifiedTooltip)&&e.verifiedTooltipTop&&t(n.CONTAINER).after(nunjucks.render("_verified-modal",{topText:e.verifiedTooltipTop,topLinkURL:e.verifiedTooltipTopLinkURL,topLinkText:e.verifiedTooltipTopLinkText,topLinkVisible:e.verifiedTooltipTopLinkVisible,bottomText:e.verifiedTooltipBottom,bottomLinkURL:e.verifiedTooltipBottomLinkURL,bottomLinkText:e.verifiedTooltipBottomLinkText,bottomLinkVisible:e.verifiedTooltipBottomLinkVisible,bottomVisible:e.verifiedTooltipBottomVisible})),s(),RottenTomatoes.popover={reinitialize:s}}(jQuery),function(i){var e,o,t={WTS_COUNT:".js-rating_wts-count"},r={wtsNumbers:/(\d{1,3})/g};e=RottenTomatoes.context.wantToSeeData,o=e&&e.wantToSeeCount||0,!(!e||!e.ratingsStartDate)&&new Date(e.ratingsStartDate)>new Date&&o&&i(t.WTS_COUNT).each(function(){var e,t=i(this),n=o.toLocaleString("en");n.includes(",")&&(n=(e=n.match(r.wtsNumbers))[0]+"."+e[1].substr(0,1)+(e.length<3?"K":"M")),t.text(n="("+n+")")})}(jQuery),function(){var i={AMC_HELP_BTN:".js-amc-help-btn",AMC_HELP_DRAWER:".js-amc-help-drawer",BACK_MODAL_BTN:".js-back-multi-page-modal",CLOSE_MODAL_BTN:".js-close-multi-page-modal",EDIT_REVIEW_SUBMIT_BTN:"#edit-review-submit",MOBILE_DRAWER_KEEP_WRITING_BTN:".js-keep-writing-btn",SUBMIT_ONLY_RATING_BTN:".js-submit-only-rating-btn",EDIT_REVIEW_DISCARD_CHANGES_BTN:".js-discard-changes-btn",MULTI_PAGE_MODAL:".js-multi-page-modal",NEXT_SUBMIT_BTN:".js-next-submit-btn",CONTINUE_BTN:".js-continue-btn",REVIEW_TEXTAREA_COUNTER:".js-textarea-with-counter-item",STAR:".js-star-rating-draggable",STAR_SELECTED:".js-rating-star.score",STAR_DISPLAY:".js-star-display-desktop",SUB_MODAL_REMOVE_REVIEW_BTN:"#remove-review",SUB_MODAL_DISCARD_CHANGE_BTN:"#discard-review",SUB_MODAL_VERIFY_TICKET_BTN:"#verify-ticket",SUBMIT_RATING_AND_REVIEW_BTN:".js-submit-review",SUBMIT_WITHOUT_VERIFICATION_BTN:".js-submit-review-without-verification",VERIFIED_TICKET_VENDOR:".js-verified-ticket-vendor",VERIFIED_TICKET_EDIT_BUTTON:".js-verified-ticket-edit",VERIFIED_TICKET_INTPUT_ERROR_MESSAGE:".js-verify-ticket-input-error-message",VERIFIED_TICKET_NUMERICAL_INPUT:".js-verify-ticket-number-input",VERIFIED_TICKET_CANCEL_BUTTON:".js-verify-ticket-cancel-btn",VERIFIED_TICKET_INTERSTITIAL_DESKTOP:".js-verify-ticket-interstitial-container-desktop",DRAWER_INITIAL_REVIEW:".js-rating-submit-drawer-initial-review",DRAWER_EDIT_REVIEW:".js-rating-submit-drawer-edit-review"},n="verify-ticket__theater--selected",o="verify-ticket__theater--selected-input-focus",r="hide",t={INITIAL_RATE_AND_REVIEW:"review",INITIAL_INTERSTITIAL:"interstitial",INITIAL_VERIFICATION:"verify",EDIT_RATE_AND_REVIEW:"edit-review",EDIT_INTERSTITIAL:"edit-interstitial",EDIT_VERIFICATION:"edit-verify"},e={RATE_AND_REVIEW:0,INTERSTITIAL:1,VERIFICATION:2},a=13,s=32,l={pendingReview:{score:"0",review:"",partnerId:"",transactionId:""},userReview:null,userInfo:null},c=null,d=!1,u=!1;function h(){RottenTomatoes.multiPageModal.loadPage(e.VERIFICATION)}function m(){RTLocals.rateAndReview.ui.showUserMediaRatingError()}function v(e){var t=RottenTomatoes.formUI.starsRating.rating||l.pendingReview.score,n=RottenTomatoes.formUI.minimumCharacterCounter.textValue||l.pendingReview.review;RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed||""===n||(n=l.userReview.review),l=Object.assign(l||{pendingReview:{score:t,review:n,partnerId:l.pendingReview.partnerId,transactionId:l.pendingReview.transactionId}}),parseInt(l.pendingReview.score)===l.userReview.score&&l.pendingReview.review===l.userReview.review&&""===l.pendingReview.partnerId||RTLocals.rateAndReview.postReview(t,n,l.pendingReview.partnerId,l.pendingReview.transactionId,l.userInfo,e)}function f(){v(!0)}function p(){RTLocals.rateAndReview.ui.handleStarSelect(),l.pendingReview.score=RottenTomatoes.formUI.starsRating.rating}function _(e,t){$(t).addClass("hide"),$(e).removeClass("hide")}function T(){$(i.SUB_MODAL_VERIFY_TICKET_BTN).on("click",function(){RottenTomatoes.multiPageModal.closeSubModal()})}function E(){var e=$(i.SUBMIT_RATING_AND_REVIEW_BTN);e.off(),e.on("click",function(){var e=[].slice.call(document.querySelectorAll(i.VERIFIED_TICKET_VENDOR)).reduce(function(e,t){return e||t.classList.contains(n)},!1);if(RTLocals.rateAndReview.ui.clearInputErrorMessage(),"AMC"===l.pendingReview.partnerId&&!R())return RTLocals.rateAndReview.ui.displayInputErrorMessage();e||c!==t.INITIAL_VERIFICATION?v():(RottenTomatoes.multiPageModal.closeSubModal(),RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#verify-ticket-alert",actions:function(){T(),g()}}))})}function g(){$(i.SUBMIT_WITHOUT_VERIFICATION_BTN).on("click",function(){switch(c){case t.INITIAL_RATE_AND_REVIEW:case t.EDIT_RATE_AND_REVIEW:case t.EDIT_VERIFICATION:v();break;case t.INITIAL_VERIFICATION:RottenTomatoes.multiPageModal.closeSubModal(),RTLocals.rateAndReview.ui.closeRateAndReviewModal(!0)}})}function R(){var e=$(i.VERIFIED_TICKET_NUMERICAL_INPUT);return e.val()&&(10===e.val().length||0===e.val().length)&&e.val().match(/^[0-9]*$/)}function w(e){return y.apply(this,arguments)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.userInfo?Object.assign(l.userInfo||{},null==t?void 0:t.detail):l.userInfo=null==t?void 0:t.detail,RTLocals.rateAndReview.widget.renderUserName(l.userInfo),RTLocals.rateAndReview.widget.renderSuperReviewer(l.userInfo),RTLocals.rateAndReview.widget.renderUserThumbnail(l.userInfo),n={mediaId:RottenTomatoes.context.ratingMediaInfo.mediaId,mediaType:RottenTomatoes.context.ratingMediaInfo.mediaType},e.next=7,RTLocals.rateAndReview.getReview(n).then(A).catch(m);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){l.userInfo={},l.userReview=null,l.pendingReview={score:"0",review:"",partnerId:"",transactionId:""}}function A(e){e&&(l.userReview=e,RTLocals.rateAndReview.widget.renderUserRatingScore(e.score),RTLocals.rateAndReview.widget.renderUserReview(e))}document.addEventListener("userLogin",w),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,I),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,A),RottenTomatoes.rateAndReview={state:l,mobileInit:function(){u=RottenTomatoes.context.canVerifyRatings;var e=l.userReview&&l.userReview.score||0,t=l.userReview&&l.userReview.review||"";(d=0<e)&&u?RTLocals.rateAndReview.modalSetup.mobile.verifiableEdit(l):d&&!u?RTLocals.rateAndReview.modalSetup.mobile.nonVerifiableEdit():!d&&u?RTLocals.rateAndReview.modalSetup.mobile.verifiableInitial():RTLocals.rateAndReview.modalSetup.mobile.nonVerifiableInitial(),RottenTomatoes.formUI.minimumCharacterCounter.init(t),RottenTomatoes.formUI.starsRating.init(e||"0"),RottenTomatoes.mobileDrawer.init(),$(i.STAR).on("click touchend",p)},desktopInit:function(e){u=RottenTomatoes.context.canVerifyRatings;var t=l.userReview&&l.userReview.score||0,n=l.userReview&&l.userReview.review||"";(d=0<t)&&u?RTLocals.rateAndReview.modalSetup.desktop.verifiableEdit(l,e):d&&!u?RTLocals.rateAndReview.modalSetup.desktop.nonVerifiableEdit():!d&&u?RTLocals.rateAndReview.modalSetup.desktop.verifiableInitial():RTLocals.rateAndReview.modalSetup.desktop.nonVerifiableInitial(),RottenTomatoes.formUI.minimumCharacterCounter.init(n),RottenTomatoes.formUI.starsRating.init(e||0),RottenTomatoes.mobileDrawer.init(),0<e&&p(),$(i.STAR).on("click touchend",p)},desktopInterstitialInit:function(){var e=RottenTomatoes.context.interstitialsConfig&&RottenTomatoes.context.interstitialsConfig.enableInterstitials||!1,n=document.querySelector(i.VERIFIED_TICKET_INTERSTITIAL_DESKTOP);e?(RottenTomatoes.context.interstitialsConfig&&RottenTomatoes.context.interstitialsConfig.explanations||[]).forEach(function(e){var t=RottenTomatoes.sanitizer.text(e&&e.color),t=n.querySelector("[class*="+t+"]");t.querySelector("p").innerText=RottenTomatoes.sanitizer.text(e&&e.explanation),t.querySelector("img").src=RottenTomatoes.sanitizer.url(e&&e.imageSrc)}):n.classList.add(r)},setCurrentStep:function(e){c=e},isInputNumberTenDigit:R,modalFunctions:{registerInitialReviewCloseBtnHandler:function(){var e=$(i.CLOSE_MODAL_BTN);e.off(),e.on("click",function(){"0"!==l.pendingReview.score?RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#submit-review-alert",actions:function(){$(i.SUB_MODAL_REMOVE_REVIEW_BTN).on("click",function(){l=Object.assign(l||{pendingReview:{score:"0",review:"",partnerId:""}}),RTLocals.rateAndReview.ui.closeRateAndReviewModal(),RTLocals.rateAndReview.ui.returnRatingStarsToUnSelected()}),g()}}):RTLocals.rateAndReview.ui.closeRateAndReviewModal()})},registerKeepWritingButtonHandler:function(){$(i.MOBILE_DRAWER_KEEP_WRITING_BTN).on("click",RottenTomatoes.mobileDrawer.closeDrawer)},registerSubmitRatingAndReviewButtonHandler:E,registerContentResizeHandler:function(){window.addEventListener("resize",RTLocals.rateAndReview.ui.resizeScrollableArea)},registerSubmitOnlyButtonHandler:function(){$(i.SUBMIT_ONLY_RATING_BTN).on("click",function(){RottenTomatoes.mobileDrawer.closeDrawer(),v(),RottenTomatoes.formUI.minimumCharacterCounter.setTextValue(""),l.pendingReview.review="",(u&&c===t.INITIAL_RATE_AND_REVIEW?(f(),h):v)()})},registerEditReviewDiscardChangesButtonHandler:function(){$(i.EDIT_REVIEW_DISCARD_CHANGES_BTN).on("click",function(){l=Object.assign(l||{pendingReview:{score:l.userReview.score,review:l.userReview.review,partner:""}}),RottenTomatoes.mobileDrawer.closeDrawer(),RTLocals.rateAndReview.ui.closeRateAndReviewModal()})},registerSubmitRatingWithoutVerificationHandler:g,registerEditReviewCloseBtnHandler:function(){var e=$(i.CLOSE_MODAL_BTN);e.off(),e.on("click",function(){!function(){var e;e=null===l.userReview.review?""===RottenTomatoes.formUI.minimumCharacterCounter.textValue:l.userReview.review===RottenTomatoes.formUI.minimumCharacterCounter.textValue;return l.userReview.score===parseFloat(RottenTomatoes.formUI.starsRating.rating)&&e}()?RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#discard-review-change-alert",actions:function(){$(i.SUB_MODAL_DISCARD_CHANGE_BTN).on("click",function(){l=Object.assign(l||{pendingReview:{score:l.userReview.score,review:l.userReview.review,partnerId:""}}),RTLocals.rateAndReview.ui.closeRateAndReviewModal()}),E()}}):RTLocals.rateAndReview.ui.closeRateAndReviewModal()})},registerNextSubmitButtonHandler:function(){$(i.NEXT_SUBMIT_BTN).on("click",function(){"0"!==l.pendingReview.score&&(RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed?(u?(f(),h):v)():RottenTomatoes.mobileDrawer.openDrawer(i.DRAWER_INITIAL_REVIEW))})},registerVerifyCloseBtnHandler:function(){var e=$(i.CLOSE_MODAL_BTN);e.off(),e.on("click",function(){RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#verify-ticket-alert",actions:function(){T(),g()}})})},registerInputCancelBtnHandler:function(){var e=$(i.VERIFIED_TICKET_CANCEL_BUTTON);e.on("focus",function(e){$(this).closest(i.VERIFIED_TICKET_VENDOR).addClass(o)}),e.on("click",function(e){var t=$(this),n=(t.closest(i.VERIFIED_TICKET_VENDOR).addClass(o),l.pendingReview.transactionId=t.val(),t.siblings(i.VERIFIED_TICKET_NUMERICAL_INPUT).val(""));n.val(""),n.focus(),e.stopPropagation(),t.addClass(r)})},registerVerifiedTicketProviderSelectHandler:function(){$(i.VERIFIED_TICKET_VENDOR).on("click keyup",function(e){1!==e.which&&13!==e.which||($(this).blur(),e=this,RTLocals.rateAndReview.ui.updateVerifiedTicketProvider(e),l.pendingReview.partnerId=$(e).data("vendor"),l.pendingReview.transactionId=$(e).find(i.VERIFIED_TICKET_NUMERICAL_INPUT).val())})},registerEditVerifiedTicketButtonHandler:function(){$(i.VERIFIED_TICKET_EDIT_BUTTON).on("click",function(){l.pendingReview.score=RottenTomatoes.formUI.starsRating.rating,l.pendingReview.review=RottenTomatoes.formUI.minimumCharacterCounter.textValue,h()})},registerEditReviewSubmitButton:function(){$(i.EDIT_REVIEW_SUBMIT_BTN).on("click",function(){if(RTLocals.rateAndReview.ui.clearInputErrorMessage(),"AMC"===l.pendingReview.partnerId&&!R())return RTLocals.rateAndReview.ui.displayInputErrorMessage();!RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed&&""!==(RottenTomatoes.formUI.minimumCharacterCounter.textValue||l.pendingReview.review)?(function(){if(Number(l.pendingReview.score)!==Number(l.userReview.score))return _(i.SUBMIT_ONLY_RATING_BTN,i.EDIT_REVIEW_DISCARD_CHANGES_BTN);_(i.EDIT_REVIEW_DISCARD_CHANGES_BTN,i.SUBMIT_ONLY_RATING_BTN)}(),RottenTomatoes.mobileDrawer.openDrawer(i.DRAWER_EDIT_REVIEW)):v()})},registerBackModalHandler:function(){$(i.BACK_MODAL_BTN).on("click",function(){RottenTomatoes.multiPageModal.loadPage(e.RATE_AND_REVIEW),RottenTomatoes.formUI.minimumCharacterCounter.init(l.pendingReview.review),RottenTomatoes.formUI.starsRating.init(l.pendingReview.score),$(i.VERIFIED_TICKET_EDIT_BUTTON).html(l.pendingReview.partner||"Select ticket provider")})},registerInterstitialContinueBtnHandler:function(){$(i.CONTINUE_BTN).on("click",function(){RTLocals.rateAndReview.interstitial.stopInterstitialSequence(),RottenTomatoes.multiPageModal.loadPage(e.VERIFICATION)})},registerAMCHelpButtonHandler:function(){$(i.AMC_HELP_BTN).on("click touch",function(){RottenTomatoes.mobileDrawer.openDrawer(i.AMC_HELP_DRAWER)}),$(i.AMC_HELP_BTN).on("keyup",function(){event.keyCode!==a&&event.keyCode!==s||RottenTomatoes.mobileDrawer.openDrawer(i.AMC_HELP_DRAWER)})},registerInputHandler:function(){$(i.VERIFIED_TICKET_NUMERICAL_INPUT).on("click focusin",function(e){$(this).closest(i.VERIFIED_TICKET_VENDOR).addClass(o),e.stopPropagation()}),$(i.VERIFIED_TICKET_NUMERICAL_INPUT).on("focusout",function(e){$(this).closest(i.VERIFIED_TICKET_VENDOR).removeClass(o)}),$(i.VERIFIED_TICKET_NUMERICAL_INPUT).on("input",function(e){var t=$(this);if(10<t.val().length&&46!==e.which&&8!==e.which)return t.val(t.val().slice(0,-1)),e.preventDefault();l.pendingReview.transactionId=t.val(),0!==t.val().length?$(i.VERIFIED_TICKET_CANCEL_BUTTON).removeClass(r):$(i.VERIFIED_TICKET_CANCEL_BUTTON).addClass(r)})},checkVerificationStatusForMobileEdit:function(){l.userReview&&!0===l.userReview.isVerified&&($(i.VERIFIED_TICKET_EDIT_BUTTON).text(l.userReview.submittedPartnerId),$(i.VERIFIED_TICKET_EDIT_BUTTON).removeClass("edit-review__vas-provider-arrow"),$(i.VERIFIED_TICKET_EDIT_BUTTON).off())}}}}(),function(){var n=".js-multi-page-modal",e="review",t="interstitial",i="verify",o="edit-review",r="edit-interstitial",a="edit-verify",s="#rate-and-review-submission",l="#edit-review-submission",c="#vas-submission",d="#edit-vas-submission",u="#interstitial";function h(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:s,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(e),RottenTomatoes.rateAndReview.modalFunctions.registerInitialReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingWithoutVerificationHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerNextSubmitButtonHandler()}}])}function m(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:l,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(o),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewDiscardChangesButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingWithoutVerificationHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewSubmitButton()}}])}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{modalSetup:{desktop:{verifiableInitial:function(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:s,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(e),RottenTomatoes.rateAndReview.modalFunctions.registerInitialReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerNextSubmitButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler()}},{htmlContainer:null},{htmlContainer:c,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(i),RottenTomatoes.rateAndReview.desktopInterstitialInit(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler()}}])},verifiableEdit:function(e,t){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:l,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(o),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditVerifiedTicketButtonHandler(t),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewSubmitButton(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewDiscardChangesButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RTLocals.rateAndReview.verifyTicket.setVerifiedTicketProvider(e.userReview)}},{htmlContainer:d,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(a),RottenTomatoes.rateAndReview.modalFunctions.registerBackModalHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler()}}])},nonVerifiableInitial:h,nonVerifiableEdit:m},mobile:{verifiableInitial:function(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:s,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(e),RottenTomatoes.rateAndReview.modalFunctions.registerInitialReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerNextSubmitButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler()}},{htmlContainer:u,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(t),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInterstitialContinueBtnHandler()}},{htmlContainer:c,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(i),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler(),RTLocals.rateAndReview.ui.changeVerifyTicketContentPadding()}}])},verifiableEdit:function(e){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:l,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(o),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditVerifiedTicketButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewSubmitButton(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewDiscardChangesButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.checkVerificationStatusForMobileEdit()}},{htmlContainer:u,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(r),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInterstitialContinueBtnHandler()}},{htmlContainer:d,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(a),RottenTomatoes.rateAndReview.modalFunctions.registerBackModalHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RTLocals.rateAndReview.ui.changeVerifyTicketContentPadding(),RTLocals.rateAndReview.verifyTicket.setVerifiedTicketProvider(e.userReview),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler()}}])},nonVerifiableInitial:h,nonVerifiableEdit:m}}})}(),function(){var l,e=".js-resubmit-btn",t=".js-rating-widget-edit-icon-btn",c={HIDE:"hide"},d={ResubmitButton:{LOADING:"Submitting...",TEXT:"Submit review"},PROFANITY_ALERT:"Your review does not meet our community guidelines. Please edit out any offensive language and try again."},u={mediaType:RottenTomatoes.context.ratingMediaInfo.mediaType,mediaId:RottenTomatoes.context.ratingMediaInfo.mediaId,userInfo:null,pendingReview:null},h=null,m=$(e),v=$(t);function i(e,t,n,i,o){RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.REVIEW_SUBMISSION_STARTED,o),navigator&&navigator.onLine||(_(e,t,n,i),p(o)),f(e,t,n,i,o)}function f(n,i,e,t,o){if(l&&l.hasProfanity(i))return window.alert(d.PROFANITY_ALERT);_(n,i,e,t);var r,a,s={mediaId:u.mediaId,mediaType:u.mediaType,displayName:(r=u.userInfo.firstName||"",a=u.userInfo.lastName&&u.userInfo.lastName.slice(0,1)||"",r+" "+a),isSuperReviewer:u.userInfo&&u.userInfo.isSuperReviewer,score:n,reviewText:i,partnerId:e,transactionId:t};return new Promise(function(t,e){RottenTomatoes.rating.updateRating(s).then(function(e){e.partnerId=s.partnerId,e.isImplicitPost=o,h={initialScore:e.score||0,initialReview:e.review||""},RTLocals.rateAndReview.widget.renderUserRatingScore(e.score,h.initialScore),RTLocals.rateAndReview.widget.renderUserReview(e),RTLocals.rateAndReview.widget.renderWTS(e.score,h.initialScore),RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,e);e={movie:"Movie",tv:"TvSeason"}[u.mediaType],e={emsId:u.mediaId,mediaType:e,review:i,score:n};document.dispatchEvent(new CustomEvent("userActivity",{detail:{action:"ratingCreate",payload:e}})),t()}).catch(function(){p(o),e()})})}function p(e){RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.FAIL_RATING_POST,e);var e=RottenTomatoes.rateAndReview.state.userReview.score,t=u.pendingReview&&u.pendingReview.score,n=u.pendingReview&&u.pendingReview.reviewText;RTLocals.rateAndReview.widget.renderUserRatingScore(t),RTLocals.rateAndReview.widget.renderUserReview({review:n}),RTLocals.rateAndReview.widget.renderWTS(t,e),RTLocals.rateAndReview.ui.reviewPostFailureMessage.show(),v.addClass(c.HIDE),m.removeClass(c.HIDE)}function _(e,t,n,i){u.pendingReview={score:e,reviewText:t,partnerId:n,transactionId:i}}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{postReview:function(o,r,a,s,e,t){var n;u.userInfo=e;try{n=JSON.parse(window.atob(RottenTomatoes.context.badWordsList))}catch(e){}(e=RottenTomatoes.profanityFilter)&&n&&(l=(new e).loadBadWords(n)),i(o,r,a,s,t),m.off(),m.on("click",function(){var e,t,n,i;e=o,t=r,n=a,i=s,m.text(d.ResubmitButton.LOADING),f(e,t,n,i).then(function(){m.addClass(c.HIDE),v.removeClass(c.HIDE),RTLocals.rateAndReview.ui.reviewPostFailureMessage.hide()}).catch(function(){m.text(d.ResubmitButton.TEXT)})})}})}(),RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{getReview:function(e){return new Promise(function(t,n){RottenTomatoes.rating.getRating(e).then(function(e){t(e)}).catch(function(e){n(e)})})}}),function(){var i,o,r,a,s,l,c,t={RATE_AND_REVIEW_MODAL:".js-multi-page-modal",INTERSTITIAL_CIRCLE_CHECK:".js-interstitial__circle--check",INTERSTITIAL_CIRCLE_TWO:".js-interstitial__circle--two",INTERSTITIAL_MAIN_COLOR:".js-interstitial__main-color",INTERSTITIAL_LIGHT_COLOR:".js-interstitial__light-color",INTERSTITIAL_IMAGE:".js-interstitial-image",INTERSTITIAL_EXPLANATION:".js-interstitial-explanation"},d={interstitial:{red:{BACKGROUND:"interstitial__background--red ",DARK_COLOR:"interstitial__color--dark-red",LIGHT_COLOR:"interstitial__color--light-red",DARK_CIRCLE:"interstitial__circle-color--dark-red",LIGHT_CIRCLE:"interstitial__circle-color--light-red"},green:{BACKGROUND:"interstitial__background--green",DARK_COLOR:"interstitial__color--dark-green",LIGHT_COLOR:"interstitial__color--light-green",DARK_CIRCLE:"interstitial__circle-color--dark-green",LIGHT_CIRCLE:"interstitial__circle-color--light-green"},blue:{BACKGROUND:"interstitial__background--blue",DARK_COLOR:"interstitial__color--dark-blue",LIGHT_COLOR:"interstitial__color--light-blue",DARK_CIRCLE:"interstitial__circle-color--dark-blue",LIGHT_CIRCLE:"interstitial__circle-color--light-blue"}}},u=!1;function h(){i.removeClass(d.interstitial.red.BACKGROUND).removeClass(d.interstitial.green.BACKGROUND).removeClass(d.interstitial.blue.BACKGROUND),o.removeClass(d.interstitial.red.LIGHT_COLOR).removeClass(d.interstitial.green.LIGHT_COLOR).removeClass(d.interstitial.blue.LIGHT_COLOR),r.removeClass(d.interstitial.red.DARK_COLOR).removeClass(d.interstitial.green.DARK_COLOR).removeClass(d.interstitial.blue.DARK_COLOR),l.removeClass(d.interstitial.red.LIGHT_CIRCLE).removeClass(d.interstitial.green.LIGHT_CIRCLE).removeClass(d.interstitial.blue.LIGHT_CIRCLE),c.removeClass(d.interstitial.red.DARK_CIRCLE).removeClass(d.interstitial.green.DARK_CIRCLE).removeClass(d.interstitial.blue.DARK_CIRCLE)}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{interstitial:{startInterstitialSequence:function(){u=!0,i=$(t.RATE_AND_REVIEW_MODAL),o=$(t.INTERSTITIAL_LIGHT_COLOR),r=$(t.INTERSTITIAL_MAIN_COLOR),a=$(t.INTERSTITIAL_IMAGE),s=$(t.INTERSTITIAL_EXPLANATION),l=$(t.INTERSTITIAL_CIRCLE_CHECK),c=$(t.INTERSTITIAL_CIRCLE_TWO);var e=RottenTomatoes.context.interstitialsConfig&&RottenTomatoes.context.interstitialsConfig.explanations||[],n=0;e.forEach(function(t){setTimeout(function(){var e;u&&(h(),e=RottenTomatoes.sanitizer.text(t&&t.color),i.addClass(d.interstitial[e="red"!==e&&"green"!==e&&"blue"!==e?"red":e].BACKGROUND),o.addClass(d.interstitial[e].LIGHT_COLOR),r.addClass(d.interstitial[e].DARK_COLOR),l.addClass(d.interstitial[e].LIGHT_CIRCLE),c.addClass(d.interstitial[e].DARK_CIRCLE),a.attr("src",RottenTomatoes.sanitizer.url(t&&t.imageSrc)),s.text(RottenTomatoes.sanitizer.text(t&&t.explanation)))},n),n+=4500})},stopInterstitialSequence:function(){i.css("transition","none"),u=!1,h()}}})}(),function(){var o=".js-verify-ticket-header",r=".js-verified-ticket-vendor",a="verify-ticket__theater--success";RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{verifyTicket:{setVerifiedTicketProvider:function(e){var t,n=window.__RT__.getNamespace(e,"submittedPartnerId",null),i=window.__RT__.getNamespace(e,"submittedTransactionId","");"DENIED"!==(e=window.__RT__.getNamespace(e,"verificationStatus",null))&&n&&(n="".concat(r,'[data-vendor="').concat(n,'"]'),(t=document.querySelector(n))&&t.click(),(n=$(n).find("input")).val(i),"VERIFIED"===e)&&($(o).text("Same ticket provider as last time?"),t.classList.add(a),n.prop("disabled",!0))}}})}(),function(){var t={NEXT_SUBMIT_BTN:".js-next-submit-btn",DISCARD_REVIEW_BTN:"#discard-review",RATE_AND_REVIEW_MODAL:".js-multi-page-modal",RATE_AND_REVIEW_MODAL_HEADER:".js-rate-and-review-modal-header",RATING_STAR:".js-star-rating-draggable",REVIEW_TEXTAREA_GROUP:".js-rate-and-review-textarea-group",REVIEW_TEXTAREA_HEADER:".js-rate-and-review-textarea-header",REVIEW_TEXTAREA:".js-textarea-with-counter-text",SUBMIT_BTN_EDIT_REVIEW:"#edit-review-submit",SUBMIT_BTN:".js-submit-review",SUBMIT_ONLY_RATING_BTN:".js-submit-only-rating-btn",SUBMIT_OR_NEXT_BTN:".js-next-submit-btn",SUBMIT_WO_VERIFICATION_BTN:".js-submit-review-without-verification",VERIFIED_TICKET_CONTENT:".js-verify-ticket-content",VERIFIED_TICKET_VENDOR:".js-verified-ticket-vendor",VERIFIED_TICKET_DISCLAIMER:".js-verified-ticket-disclaimer",VERIFIED_TICKET_BTN_GROUP:".js-verify-btn-group",VERIFIED_TICKET_LEGAL:".js-verify-ticket-legal",VERIFIED_TICKET_INPUT_MESSAGE_CONTAINER:".js-verified-ticket-input-message-container",VERIFIED_TICKET_INPUT_ERROR_MESSAGE:".js-verify-ticket-input-error-message",VERIFIED_TICKET_NUMBER_INPUT:".js-verify-ticket-number-input",MORE_INFO_BTN:".js-mop-more-btn"},i={DISABLED:"disabled",HIDE:"hide",NO_SCROLL:"noscroll",RATE_AND_REVIEW_MODAL_HIDDEN:"rate-and-review--hidden",REVIEW_TEXTAREA_GROUP_HIDDEN:"rate-and-review__textarea-group--hidden",REVIEW_TEXTAREA_HEADER_HIDDEN:"rate-and-review__textarea-header--hidden",REVIEW_TEXTAREA_HEADER_ACTIVE:"rate-and-review__textarea-header--active",SUBMIT_BTN_GRAY:"rate-and-review__button--gray",VERIFIED_TICKET_VENDOR_SELECTED:"verify-ticket__theater--selected",VERIFIED_TICKET_INPUT_ERROR:"verify-ticket-number-input--error",VERIFIED_TICKET_INPUT_GRAYED:"verify-ticket__number-input--grayed-out"},e="Confirmation# should be 10 numerical digits",n='<rt-icon icon="spinner"></rt-icon>',o="FANDANGO",r=120,a=window.matchMedia("only screen and (max-width: 760px)").matches;function s(){var e=document.querySelector(t.VERIFIED_TICKET_BTN_GROUP).getBoundingClientRect().height+r+"px";document.querySelector(t.VERIFIED_TICKET_CONTENT).style.paddingBottom=e}var l="Submit",c="Submit",d="Submit",u="Submit & exit",h="Submit only my rating";function m(){$(t.VERIFIED_TICKET_INPUT_ERROR_MESSAGE).addClass(i.HIDE).html(""),$(t.VERIFIED_TICKET_NUMBER_INPUT).removeClass(i.VERIFIED_TICKET_INPUT_ERROR)}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{ui:{displayInputErrorMessage:function(){$(t.VERIFIED_TICKET_INPUT_ERROR_MESSAGE).removeClass(i.HIDE).append(e),$(t.VERIFIED_TICKET_NUMBER_INPUT).addClass(i.VERIFIED_TICKET_INPUT_ERROR)},clearInputErrorMessage:m,closeRateAndReviewModal:function(e){$("body").removeClass(i.NO_SCROLL),m(),$(t.REVIEW_TEXTAREA_GROUP).addClass(i.REVIEW_TEXTAREA_GROUP_HIDDEN),$(t.REVIEW_TEXTAREA_HEADER).removeClass(i.REVIEW_TEXTAREA_HEADER_ACTIVE).addClass(i.REVIEW_TEXTAREA_HEADER_HIDDEN),$(t.NEXT_SUBMIT_BTN).attr("disabled",!0),$(t.RATE_AND_REVIEW_MODAL).addClass(i.RATE_AND_REVIEW_MODAL_HIDDEN),RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_MODAL_CLOSED,{displaySubmitMessage:e})},disableVerificationElements:function(){$(t.VERIFIED_TICKET_VENDOR).addClass(i.DISABLED),$(t.REVIEW_TEXTAREA).addClass(i.DISABLED),$(t.RATING_STAR).addClass(i.DISABLED),$(t.DISCARD_REVIEW_BTN).addClass(i.DISABLED),$(t.SUBMIT_BTN_EDIT_REVIEW).addClass(i.DISABLED),$(t.SUBMIT_BTN).addClass(i.DISABLED),$(t.SUBMIT_OR_NEXT_BTN).addClass(i.DISABLED),$(t.SUBMIT_WO_VERIFICATION_BTN).addClass(i.DISABLED),$(t.SUBMIT_ONLY_RATING_BTN).addClass(i.DISABLED),$(t.VERIFIED_TICKET_NUMBER_INPUT).addClass(i.VERIFIED_TICKET_INPUT_GRAYED)},enableVerificationElements:function(){$(t.VERIFIED_TICKET_VENDOR).removeClass(i.DISABLED),$(t.REVIEW_TEXTAREA).removeClass(i.DISABLED),$(t.RATING_STAR).removeClass(i.DISABLED),$(t.DISCARD_REVIEW_BTN).removeClass(i.DISABLED),$(t.SUBMIT_BTN_EDIT_REVIEW).removeClass(i.DISABLED),$(t.SUBMIT_BTN).removeClass(i.DISABLED),$(t.SUBMIT_OR_NEXT_BTN).removeClass(i.DISABLED),$(t.SUBMIT_WO_VERIFICATION_BTN).removeClass(i.DISABLED),$(t.SUBMIT_ONLY_RATING_BTN).removeClass(i.DISABLED),$(t.VERIFIED_TICKET_NUMBER_INPUT).removeClass(i.VERIFIED_TICKET_INPUT_GRAYED)},handleStarSelect:function(){$(t.REVIEW_TEXTAREA_GROUP).removeClass(i.REVIEW_TEXTAREA_GROUP_HIDDEN),$(t.REVIEW_TEXTAREA_HEADER).addClass(i.REVIEW_TEXTAREA_HEADER_ACTIVE).removeClass(i.REVIEW_TEXTAREA_HEADER_HIDDEN),$(t.NEXT_SUBMIT_BTN).removeAttr("disabled")},openRateAndReviewModal:function(){$("body").addClass(i.NO_SCROLL),$(t.RATE_AND_REVIEW_MODAL).removeClass(i.RATE_AND_REVIEW_MODAL_HIDDEN)},updateVerifiedTicketProvider:function(e){e=$(e),$(t.VERIFIED_TICKET_VENDOR).removeClass(i.VERIFIED_TICKET_VENDOR_SELECTED).find(t.VERIFIED_TICKET_INPUT_MESSAGE_CONTAINER).addClass(i.HIDE),e.addClass(i.VERIFIED_TICKET_VENDOR_SELECTED).find(t.VERIFIED_TICKET_INPUT_MESSAGE_CONTAINER).removeClass(i.HIDE).find(t.VERIFIED_TICKET_NUMBER_INPUT).removeClass(i.VERIFIED_TICKET_INPUT_FOCUS),e.data("vendor")===o?document.querySelector(t.VERIFIED_TICKET_LEGAL).classList.contains("hide")&&($(t.VERIFIED_TICKET_LEGAL).removeClass("hide"),a)&&s():($(t.VERIFIED_TICKET_LEGAL).addClass("hide"),a&&s())},restoreSubmitBtns:function(){$(t.SUBMIT_BTN_EDIT_REVIEW).removeClass(i.SUBMIT_BTN_GRAY).html(l),$(t.SUBMIT_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(c),$(t.SUBMIT_OR_NEXT_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(d),$(t.SUBMIT_WO_VERIFICATION_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(u),$(t.SUBMIT_ONLY_RATING_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(h)},returnRatingStarsToUnSelected:function(){document.querySelectorAll(t.STAR_DISPLAY).forEach(function(e){e.classList.remove(i.STAR_DISPLAY_FILLED),e.classList.remove(i.STAR_DISPLAY_FILLED),e.classList.add(i.STAR_DISPLAY_EMPTY);for(var t=e.children,n=0;n<t.length;n+=1)t[n].classList.remove(i.STAR_SCORE)})},changeSubmitBtnsToSpinners:function(){l=$(t.SUBMIT_BTN_EDIT_REVIEW).html(),c=$(t.SUBMIT_BTN).html(),d=$(t.SUBMIT_OR_NEXT_BTN).html(),u=$(t.SUBMIT_WO_VERIFICATION_BTN).html(),h=$(t.SUBMIT_ONLY_RATING_BTN).html(),$(t.SUBMIT_BTN_EDIT_REVIEW).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_OR_NEXT_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_WO_VERIFICATION_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_ONLY_RATING_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n)},changeVerifyTicketContentPadding:s}})}(),function(){var e=".js-rate-review-widget",t=".js-review-submitted-message__review-info",n=".js-review-submitted-message",i=".js-user-rating-error-header",o=".js-user-rating-error-text",r=".js-user-rating-error-close-button",a=".js-edit-review-btn",s=".js-rating-wts-btn",l="hide",c="review-submitted-message__review-info--error",d={header:"We had trouble submitting your review.",text:"It’s not you, it’s us. You might have better luck if you try again in a minute."},u={header:"We had trouble retrieving your review.",text:"It’s not you, it’s us. You might have better luck if you try again in a minute."},h=$(".js-user-rating-error");Object.assign(RTLocals.rateAndReview.ui||{},{reviewPostFailureMessage:{show:function(){$(n).removeClass(l),$(a).addClass(l),$(s).addClass(l),$(t).removeClass(l).addClass(c).html("<strong>"+d.header+"</strong><br />"+d.text)},hide:function(){$(n).addClass(l),$(t).addClass(l).addClass(c).html("<strong>"+d.header+"</strong><br />"+d.text)}},showUserMediaRatingError:function(){$(e).addClass(l),h.removeClass(l),$(r).on("click",function(){h.addClass(l)}),$(i).html(u.header),$(o).html(u.text)}})}(),function(){var o={EDIT_ICON_BTN:".js-rating-widget-edit-icon-btn",EDIT_REVIEW_BTN:".js-edit-review-btn",EDIT_REVIEW_MOBILE_BTN:".js-edit-review-mobile-btn",INITIAL_DESKTOP_STARS:".js-rating-widget-initial-desktop-stars",RATINGS_MOBILE_WRAP:".js-rating-widget-mobile-wrap",RATING_MODAL_OPEN_BTN:".js-rating-widget-mobile-review-modal-button",REVIEW_DESCRIPTION:".js-rating-widget-mobile-add-review-text",REVIEWED_CONTAINER:".js-rating-widget-reviewed-container",RATING_STARS_MOBILE_WRAP:".js-rating-widget-mobile-stars-wrap",REVIEW_TEXTAREA:".js-rating-textbox-textarea",REVIEW_COMMENT:".js-rating-widget-comment",REVIEW_IS_VERIFIED:".js-rating-widget-is-verified",REVIEW_DURATION_SINCE_RATING_CREATION:".js-rating-widget-duration-since-rating-creation",STAR_RATING_STATIC:".js-star-rating-static",STAR_RATING_STATIC_SCORE:".js-star-rating-static.icon-star--checked",STARS_RATING_STATIC_CONTAINER:".js-stars-rating-static-container",SUPER_REVIEWER:".js-rating-widget-super-reviewer",USER_INFO_MOBILE:".js-rate-and-review-widget-mobile-header",USER_INFO_DESKTOP:".js-rate-and-review-widget-header",USER_NAME:".js-rating-widget-username",USER_THUMBNAIL:".js-rating-widget-user-thumb",WANT_TO_SEE_BTN:".js-rating-wts-btn",WIDGET_RATING_STAR:".js-modal-widget-star"},r={HIDE:"hide",ICON_STAR_CHECKED:"icon-star--checked",STAR_RATING_STATIC_MOBILE:"star-rating-static__mobile",STARS_RATING_CONTAINER_IS_NOT_RATED:"stars-rating__container--is-not-rated",SUPER_REVIEWER_HIDDEN:"super-reviewer-badge--hidden",WIDGET_EDIT_ICON_HIDDEN:"rate-and-review-widget__icon-edit--hidden",WIDGET_REVIEW_CONTAINER_HIDDEN:"rate-and-review-widget__reviewed-container--hidden",TEXT_CENTER:"text-center",REVIEW_PRESENT:"review-present"};function e(){RottenTomatoes.rateAndReview.mobileInit(),RTLocals.rateAndReview.ui.openRateAndReviewModal()}function t(){var e,t=window.matchMedia("only screen and (max-width: 760px)").matches,n=parseFloat($(o.STAR_RATING_STATIC_SCORE).data("rating"));(null==(e=document.querySelector("auth-initiate-manager").state.auth.userInfo)?void 0:e.id)?(t?(RottenTomatoes.rateAndReview.mobileInit(),RTLocals.rateAndReview.ui.openRateAndReviewModal()):RottenTomatoes.rateAndReview.desktopInit(n),RTLocals.rateAndReview.ui.openRateAndReviewModal()):i()}function i(){var e;(null==(e=document.querySelector("auth-initiate-manager").state.auth.userInfo)?void 0:e.id)||document.dispatchEvent(new CustomEvent("auth",{detail:{referer:"RATING"}}))}function n(){$(o.USER_INFO_MOBILE).removeClass(r.HIDE),$(o.USER_INFO_DESKTOP).removeClass(r.HIDE)}function a(){$(o.USER_INFO_MOBILE).addClass(r.HIDE),$(o.USER_INFO_DESKTOP).addClass(r.HIDE),$(o.EDIT_ICON_BTN).addClass(r.WIDGET_EDIT_ICON_HIDDEN),$(o.REVIEWED_CONTAINER).addClass(r.WIDGET_REVIEW_CONTAINER_HIDDEN),$(o.INITIAL_DESKTOP_STARS).removeClass(r.HIDE),$(o.REVIEW_TEXTAREA).removeClass(r.HIDE)}$(o.EDIT_ICON_BTN).click(t),$(o.EDIT_REVIEW_MOBILE_BTN).click(t),$(o.REVIEW_TEXTAREA).click(t),$(o.RATING_MODAL_OPEN_BTN).click(e),$(o.STAR_RATING_STATIC).on("click touch",function(){var e,t=$(this);(null==(e=document.querySelector("auth-initiate-manager").state.auth.userInfo)?void 0:e.id)?t.hasClass(r.STAR_RATING_STATIC_MOBILE)&&(RottenTomatoes.rateAndReview.mobileInit(),RTLocals.rateAndReview.ui.openRateAndReviewModal()):i()}),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGIN,n),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,a),RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{widget:{renderUserName:function(e){var t=e.firstName||"",e=e.lastName&&e.lastName.slice(0,1)||"";$(o.USER_NAME).text(t+" "+e)},renderSuperReviewer:function(e){e.isSuperReviewer&&$(o.SUPER_REVIEWER).removeClass(r.SUPER_REVIEWER_HIDDEN)},renderUserThumbnail:function(e){var t,n=$(o.USER_THUMBNAIL),i=e.thumbnailUrl||"",e=e.profileUrl||"";i&&(t=$(o.USER_THUMBNAIL).attr("src")),n.attr("src",i||t),n.parent().attr("href",e)},renderUserRatingScore:function(e,t){var n=$(o.STARS_RATING_STATIC_CONTAINER);switch(t=t||"0",e&&($(o.WANT_TO_SEE_BTN).addClass(r.HIDE),0!==t)&&$(o.EDIT_REVIEW_BTN).removeClass(r.HIDE),e){case"+":break;case void 0:case null:n.find(o.STAR_RATING_STATIC).removeClass(r.ICON_STAR_CHECKED);break;default:var i=Number.parseFloat?Number.parseFloat(e,10):Number(e);i&&RottenTomatoes.starsRatingStatic.renderRating(i)}e&&($(o.RATINGS_MOBILE_WRAP).addClass(r.REVIEW_PRESENT),$(o.REVIEW_DESCRIPTION).addClass(r.HIDE),$(o.RATING_MODAL_OPEN_BTN).addClass(r.HIDE),$(o.REVIEW_TEXTAREA).addClass(r.HIDE),$(o.INITIAL_DESKTOP_STARS).addClass(r.HIDE),$(o.RATING_STARS_MOBILE_WRAP).removeClass(r.HIDE),$(o.STARS_RATING_STATIC_CONTAINER).removeClass(r.HIDE),$(o.EDIT_ICON_BTN).removeClass(r.WIDGET_EDIT_ICON_HIDDEN),$(o.REVIEWED_CONTAINER).removeClass(r.WIDGET_REVIEW_CONTAINER_HIDDEN))},renderUserReview:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.review||"";(t=185<t.length?t.substr(0,185).trim()+"...":t)&&$(o.REVIEW_COMMENT).html(t).removeClass(r.HIDE),e.isVerified&&$(o.REVIEW_IS_VERIFIED).removeClass(r.HIDE),e.durationSinceRatingCreation&&$(o.REVIEW_DURATION_SINCE_RATING_CREATION).html(e.durationSinceRatingCreation).removeClass(r.HIDE)},renderWTS:function(e,t){var n=$(o.WANT_TO_SEE_BTN);e&&"-"!==e?t&&0!==t.initialScore&&n.addClass(r.HIDE):n.removeClass(r.HIDE)}}})}(),function(){var r={STARS_RATING_MODULE:"stars-rating-module",STAR_MESSAGE:".js-star-rating-message",STARS_GROUP:".js-stars-rating-group",STAR:".js-star-rating-draggable",STAR_TOOLTIP:".js-stars-rating-tooltip"},i={STARS_CONTAINER_IS_NOT_RATED:"stars-rating__container--is-not-rated",STARS:"icon-star",STARS_TOUCHED:"stars-rating__stars-group--touched",STARS_UNTOUCHED:"stars-rating__stars-group--untouched",STARS_DRAGGED:"stars-rating__container--isDragging",STARS_CHECKED:"icon-star--checked",STARS_RETURNED:"icon-star--returned",MESSAGE_TOUCHED:"stars-rating__msg--touched",MESSAGE_UNTOUCHED:"stars-rating__msg--untouched",MESSAGE_FOCUSED:"stars-rating__msg--focused",MESSAGE_UNFOCUSED:"stars-rating__msg--unfocused",STAR_TOOLTIP_HIDDEN:"stars-rating__tooltip--hidden"},a={HIDE_STAR_TOOLTIP:"hide_star_tooltip",NUMBER_OF_REVIEW_STARTS:"number_of_review_starts"},t={SPACE:32};function s(e){e=e.target;window.matchMedia("only screen and (max-width: 760px)").matches&&n(),_(i.STARS_CONTAINER_IS_NOT_RATED),_(i.STARS_DRAGGED),document.querySelector(r.STARS_GROUP).dataset.originalRating=e.dataset.rating,m(e)}function l(e){e.keyCode===t.SPACE&&(e.preventDefault(),s(e))}function c(e){_(i.STARS_CONTAINER_IS_NOT_RATED),m(e.target)}function d(){"0"===document.querySelector(r.STARS_GROUP).dataset.originalRating?(f(i.STARS_CHECKED),v("0"),p(i.STARS_CONTAINER_IS_NOT_RATED)):m(document.querySelector(r.STAR+'[data-rating="'+this.dataset.originalRating+'"]'))}function u(e){var l,c,d,u,t=e.touches[0];e.preventDefault(),n(),l=t.clientX,c=t.clientY,e=document.querySelector(r.STARS_GROUP),t=e.querySelectorAll(r.STAR),e.classList.remove(i.STARS_UNTOUCHED),e.classList.add(i.STARS_TOUCHED),p(i.STARS_DRAGGED),document.querySelectorAll(r.STAR_MESSAGE).forEach(function(e){e.classList.add(i.MESSAGE_TOUCHED),e.classList.remove(i.MESSAGE_UNTOUCHED)}),d=!1,u=-1/0,t.forEach(function(e,t){var n,i,o,r,a,s;o=e,r=d&&(t-u!=1||t%2==0)?"-5px":"-10px",n=(3.3*(n=(i=t)<=4?-1:1)+5.8*(n<0?i-4:i-5)).toString()+"px",o.style.transition="transform .25s",o.style.transform="scale(1.6) translate("+n+", "+r+")",i=l,o=c,n=(n=e).getBoundingClientRect(),r=n.left,a=n.top,s=n.width,n=n.height,i<=r||r+s<=i||o<=a||a+n<=o||(m(e),u=t,d=!0)})}function n(){$(r.STAR_TOOLTIP).addClass(i.STAR_TOOLTIP_HIDDEN),RottenTomatoes.cookie.setCookie(a.HIDE_STAR_TOOLTIP,!0,RottenTomatoes.cookie.DEFAULT_COOKIE_EXPIRY)}function h(){var e=document.querySelector(r.STARS_GROUP),t=document.querySelector(r.STAR_MESSAGE);_(i.STARS_CONTAINER_IS_NOT_RATED),e.classList.add(i.STARS_UNTOUCHED),e.classList.remove(i.STARS_TOUCHED),t.classList.add(i.MESSAGE_UNTOUCHED),t.classList.remove(i.MESSAGE_TOUCHED),document.querySelectorAll(r.STAR_MESSAGE).forEach(function(e){e.classList.add(i.MESSAGE_UNTOUCHED),e.classList.remove(i.MESSAGE_TOUCHED)}),e.querySelectorAll(r.STAR).forEach(o),_(i.STARS_DRAGGED)}function o(e){e.style.transform="translate(0,0) scale(1)",e.style.transition="transform .2s"}function m(e){f(i.STARS_CHECKED);var t=e.dataset;v(t.rating),e.classList.add(i.STARS_CHECKED),RottenTomatoes.formUI.starsRating.rating=t.rating}function v(n){document.querySelectorAll(r.STAR_MESSAGE).forEach(function(e){e.classList.remove(i.MESSAGE_FOCUSED),e.classList.remove(i.MESSAGE_UNFOCUSED);var t=e.dataset.starUpperThreshold>=n&&e.dataset.starLowerThreshold<=n?i.MESSAGE_FOCUSED:i.MESSAGE_UNFOCUSED;e.classList.add(t)})}function f(t){document.querySelectorAll(r.STAR).forEach(function(e){e.classList.remove(t)})}function p(e){document.getElementById(r.STARS_RATING_MODULE).classList.add(e)}function _(e){document.getElementById(r.STARS_RATING_MODULE).classList.remove(e)}RottenTomatoes.formUI=Object.assign(RottenTomatoes.formUI||{},{starsRating:{rating:"0",init:function(e){var t=document.querySelector(r.STARS_GROUP),n=t.querySelectorAll(r.STAR),i=window.matchMedia("only screen and (max-width: 760px)").matches,e=(t.dataset.originalRating=(e+="")||"0",v(t.dataset.originalRating),n.forEach(function(e){i?(e.addEventListener("touchstart",s),e.addEventListener("touchend",h),e.addEventListener("touchmove",u)):(e.addEventListener("mouseover",c),t.addEventListener("mouseleave",d)),e.addEventListener("click",s),e.addEventListener("keydown",l)}),"0"!==e&&(n=document.querySelector(r.STAR+'[data-rating="'+e+'"]'))&&n.click(),$(r.STAR_TOOLTIP)),n=RottenTomatoes.cookie.getCookie(a.NUMBER_OF_REVIEW_STARTS),o=parseInt(n);RottenTomatoes.cookie.getCookie(a.HIDE_STAR_TOOLTIP)&&e.addClass("hide"),n?(4<o&&e.addClass("hide"),RottenTomatoes.cookie.setCookie(a.NUMBER_OF_REVIEW_STARTS,o+1,RottenTomatoes.cookie.DEFAULT_COOKIE_EXPIRY)):RottenTomatoes.cookie.setCookie(a.NUMBER_OF_REVIEW_STARTS,"1",RottenTomatoes.cookie.DEFAULT_COOKIE_EXPIRY)}}})}(),function(){var e=".js-stars-rating-static-container",t="stars-rating__container--is-not-rated",i="icon-star--checked",o=$(".js-star-rating-static"),r=$(e);RottenTomatoes.starsRatingStatic=Object.assign(RottenTomatoes.starsRatingStatic||{},{renderRating:function(n){n&&r.removeClass(t),o.removeClass(i),o.each(function(e,t){t=$(t);t.data("rating")===n&&t.addClass(i)})},removeRating:function(){o.removeClass(i),r.addClass(t)}})}(),function(e){var t={HERO_IMAGE_PLAY_BUTTON:"#heroImageContainer .playButton",RATE_IT_BUTTON:".js-rate-it-button",RATING_ROOT:"#rating-root"};function n(){e("html, body").animate({scrollTop:e(t.RATING_ROOT).offset().top-e(window).height()/2},1e3)}e(t.HERO_IMAGE_PLAY_BUTTON).addClass("in"),e(t.RATE_IT_BUTTON).click(n),e(document).ready(function(){RottenTomatoes.clamp.init({buttonText:"Show More",buttonClass:"clamp-toggle__show-more--bold"})})}(jQuery),RottenTomatoes.pages=Object.assign(RottenTomatoes.pages||{},{movieDetails:{}});